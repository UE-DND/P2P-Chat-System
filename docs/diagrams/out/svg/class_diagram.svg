<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="6466px" preserveAspectRatio="none" style="width:11104px;height:6466px;background:#FFFFFF;" version="1.1" viewBox="0 0 11104 6466" width="11104px" zoomAndPan="magnify"><title>P2P_Chat_System - &#31867;&#22270;</title><defs/><g><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="330.9004" x="5372.8398" y="49.627">P2P_Chat_System - &#31867;&#22270;</text><!--cluster com--><g id="cluster_com"><path d="M661.58,91.2832 L713.9413,91.2832 A15,15 0 0 1 723.9413,101.2832 L737.9413,140.2383 L9857.58,140.2383 A10,10 0 0 1 9867.58,150.2383 L9867.58,6442.2832 A10,10 0 0 1 9857.58,6452.2832 L661.58,6452.2832 A10,10 0 0 1 651.58,6442.2832 L651.58,101.2832 A10,10 0 0 1 661.58,91.2832 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="651.58" x2="737.9413" y1="140.2383" y2="140.2383"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="60.3613" x="659.58" y="124.9102">com</text></g><!--cluster uednd--><g id="cluster_uednd"><path d="M709.58,181.2832 L791.3769,181.2832 A15,15 0 0 1 801.3769,191.2832 L815.3769,230.2383 L9809.58,230.2383 A10,10 0 0 1 9819.58,240.2383 L9819.58,6394.2832 A10,10 0 0 1 9809.58,6404.2832 L709.58,6404.2832 A10,10 0 0 1 699.58,6394.2832 L699.58,191.2832 A10,10 0 0 1 709.58,181.2832 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="699.58" x2="815.3769" y1="230.2383" y2="230.2383"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="89.7969" x="707.58" y="214.9102">uednd</text></g><!--cluster p2pchat--><g id="cluster_p2pchat"><path d="M757.58,271.2832 L864.4511,271.2832 A15,15 0 0 1 874.4511,281.2832 L888.4511,320.2383 L9761.58,320.2383 A10,10 0 0 1 9771.58,330.2383 L9771.58,6346.2832 A10,10 0 0 1 9761.58,6356.2832 L757.58,6356.2832 A10,10 0 0 1 747.58,6346.2832 L747.58,281.2832 A10,10 0 0 1 757.58,271.2832 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="747.58" x2="888.4511" y1="320.2383" y2="320.2383"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="114.8711" x="755.58" y="304.9102">p2pchat</text></g><!--cluster core--><g id="cluster_core"><path d="M7853.58,361.2832 L7906.6113,361.2832 A15,15 0 0 1 7916.6113,371.2832 L7930.6113,410.2383 L8261.58,410.2383 A10,10 0 0 1 8271.58,420.2383 L8271.58,739.2832 A10,10 0 0 1 8261.58,749.2832 L7853.58,749.2832 A10,10 0 0 1 7843.58,739.2832 L7843.58,371.2832 A10,10 0 0 1 7853.58,361.2832 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="7843.58" x2="7930.6113" y1="410.2383" y2="410.2383"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="61.0313" x="7851.58" y="394.9102">core</text></g><!--cluster util--><g id="cluster_util"><path d="M831.58,1653.2832 L869.8866,1653.2832 A15,15 0 0 1 879.8866,1663.2832 L893.8866,1702.2383 L2313.58,1702.2383 A10,10 0 0 1 2323.58,1712.2383 L2323.58,2127.2832 A10,10 0 0 1 2313.58,2137.2832 L831.58,2137.2832 A10,10 0 0 1 821.58,2127.2832 L821.58,1663.2832 A10,10 0 0 1 831.58,1653.2832 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="821.58" x2="893.8866" y1="1702.2383" y2="1702.2383"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="46.3066" x="829.58" y="1686.9102">util</text></g><!--cluster ui--><g id="cluster_ui"><path d="M2381.58,853.2832 L2400.0077,853.2832 A15,15 0 0 1 2410.0077,863.2832 L2424.0077,902.2383 L5851.58,902.2383 A10,10 0 0 1 5861.58,912.2383 L5861.58,5064.2832 A10,10 0 0 1 5851.58,5074.2832 L2381.58,5074.2832 A10,10 0 0 1 2371.58,5064.2832 L2371.58,863.2832 A10,10 0 0 1 2381.58,853.2832 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="2371.58" x2="2424.0077" y1="902.2383" y2="902.2383"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="26.4277" x="2379.58" y="886.9102">ui</text></g><!--cluster cli--><g id="cluster_cli"><path d="M2429.58,943.2832 L2452.6152,943.2832 A15,15 0 0 1 2462.6152,953.2832 L2476.6152,992.2383 L5803.58,992.2383 A10,10 0 0 1 5813.58,1002.2383 L5813.58,5016.2832 A10,10 0 0 1 5803.58,5026.2832 L2429.58,5026.2832 A10,10 0 0 1 2419.58,5016.2832 L2419.58,953.2832 A10,10 0 0 1 2429.58,943.2832 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="2419.58" x2="2476.6152" y1="992.2383" y2="992.2383"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="31.0352" x="2427.58" y="976.9102">cli</text></g><!--cluster util--><g id="cluster_util"><path d="M2477.58,4684.2832 L2515.8866,4684.2832 A15,15 0 0 1 2525.8866,4694.2832 L2539.8866,4733.2383 L3823.58,4733.2383 A10,10 0 0 1 3833.58,4743.2383 L3833.58,4968.2832 A10,10 0 0 1 3823.58,4978.2832 L2477.58,4978.2832 A10,10 0 0 1 2467.58,4968.2832 L2467.58,4694.2832 A10,10 0 0 1 2477.58,4684.2832 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="2467.58" x2="2539.8866" y1="4733.2383" y2="4733.2383"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="46.3066" x="2475.58" y="4717.9102">util</text></g><!--cluster command--><g id="cluster_command"><path d="M2875.58,3217.2832 L3008.3593,3217.2832 A15,15 0 0 1 3018.3593,3227.2832 L3032.3593,3266.2383 L5755.58,3266.2383 A10,10 0 0 1 5765.58,3276.2383 L5765.58,4163.2832 A10,10 0 0 1 5755.58,4173.2832 L2875.58,4173.2832 A10,10 0 0 1 2865.58,4163.2832 L2865.58,3227.2832 A10,10 0 0 1 2875.58,3217.2832 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="2865.58" x2="3032.3593" y1="3266.2383" y2="3266.2383"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="140.7793" x="2873.58" y="3250.9102">command</text></g><!--cluster network--><g id="cluster_network"><path d="M5919.58,4352.2832 L6028.4198,4352.2832 A15,15 0 0 1 6038.4198,4362.2832 L6052.4198,4401.2383 L6819.58,4401.2383 A10,10 0 0 1 6829.58,4411.2383 L6829.58,5300.2832 A10,10 0 0 1 6819.58,5310.2832 L5919.58,5310.2832 A10,10 0 0 1 5909.58,5300.2832 L5909.58,4362.2832 A10,10 0 0 1 5919.58,4352.2832 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="5909.58" x2="6052.4198" y1="4401.2383" y2="4401.2383"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="116.8398" x="5917.58" y="4385.9102">network</text></g><!--cluster repository--><g id="cluster_repository"><path d="M1541.58,4589.2832 L1678.8437,4589.2832 A15,15 0 0 1 1688.8437,4599.2832 L1702.8437,4638.2383 L2313.58,4638.2383 A10,10 0 0 1 2323.58,4648.2383 L2323.58,5063.2832 A10,10 0 0 1 2313.58,5073.2832 L1541.58,5073.2832 A10,10 0 0 1 1531.58,5063.2832 L1531.58,4599.2832 A10,10 0 0 1 1541.58,4589.2832 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="1531.58" x2="1702.8437" y1="4638.2383" y2="4638.2383"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="145.2637" x="1539.58" y="4622.9102">repository</text></g><!--cluster service--><g id="cluster_service"><path d="M6887.58,3138.2832 L6976.7734,3138.2832 A15,15 0 0 1 6986.7734,3148.2832 L7000.7734,3187.2383 L9165.58,3187.2383 A10,10 0 0 1 9175.58,3197.2383 L9175.58,4952.2832 A10,10 0 0 1 9165.58,4962.2832 L6887.58,4962.2832 A10,10 0 0 1 6877.58,4952.2832 L6877.58,3148.2832 A10,10 0 0 1 6887.58,3138.2832 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="6877.58" x2="7000.7734" y1="3187.2383" y2="3187.2383"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="97.1934" x="6885.58" y="3171.9102">service</text></g><!--cluster model--><g id="cluster_model"><path d="M6027.58,5414.2832 L6108.6659,5414.2832 A15,15 0 0 1 6118.6659,5424.2832 L6132.6659,5463.2383 L8743.58,5463.2383 A10,10 0 0 1 8753.58,5473.2383 L8753.58,6298.2832 A10,10 0 0 1 8743.58,6308.2832 L6027.58,6308.2832 A10,10 0 0 1 6017.58,6298.2832 L6017.58,5424.2832 A10,10 0 0 1 6027.58,5414.2832 " fill="none" style="stroke:#000000;stroke-width:3.0;"/><line style="stroke:#000000;stroke-width:3.0;" x1="6017.58" x2="6132.6659" y1="5463.2383" y2="5463.2383"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="89.0859" x="6025.58" y="5447.9102">model</text></g><!--class P2PChatApplication--><g id="elem_P2PChatApplication"><rect codeLine="26" fill="#FFFFFF" height="187.0273" id="P2PChatApplication" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="354.8281" x="4546.58" y="482.2832"/><ellipse cx="4604.89" cy="512.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M4607.7025,504.4082 Q4607.9525,504.0645 4608.265,503.9082 Q4608.5775,503.7207 4608.9212,503.7207 Q4609.5462,503.7207 4609.9212,504.1582 Q4610.3275,504.5645 4610.3275,505.5645 L4610.3275,507.9395 Q4610.3275,508.9707 4609.9212,509.4082 Q4609.5462,509.8145 4608.9212,509.8145 Q4608.3587,509.8145 4608.015,509.502 Q4607.6712,509.1895 4607.515,508.3457 Q4607.4212,507.752 4607.14,507.4395 Q4606.5775,506.8145 4605.5462,506.4707 Q4604.5462,506.0957 4603.5462,506.0957 Q4602.2962,506.0957 4601.2337,506.6582 Q4600.1712,507.1895 4599.3587,508.4395 Q4598.5775,509.6582 4598.5775,511.3457 L4598.5775,513.1582 Q4598.5775,515.1895 4600.0462,516.5332 Q4601.515,517.877 4604.1087,517.877 Q4605.6712,517.877 4606.765,517.4707 Q4607.39,517.2207 4608.1087,516.502 Q4608.5462,516.0645 4608.765,515.9395 Q4609.015,515.7832 4609.3275,515.7832 Q4609.89,515.7832 4610.3275,516.2207 Q4610.765,516.6582 4610.765,517.2207 Q4610.765,517.7832 4610.1712,518.4395 Q4609.3275,519.4082 4608.015,519.9395 Q4606.265,520.6895 4604.14,520.6895 Q4601.64,520.6895 4599.64,519.6582 Q4598.0462,518.8457 4596.89,517.0957 Q4595.765,515.3145 4595.765,513.2207 L4595.765,511.3145 Q4595.765,509.127 4596.765,507.252 Q4597.7962,505.3457 4599.6087,504.3145 Q4601.4212,503.2832 4603.4212,503.2832 Q4604.64,503.2832 4605.7025,503.5645 Q4606.765,503.8457 4607.7025,504.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="227.4727" x="4637.6255" y="521.8398">P2PChatApplication</text><line style="stroke:#000000;stroke-width:1.0;" x1="4548.58" x2="4899.4081" y1="542.2832" y2="542.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="4562.58" y="561.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="201.7383" x="4584.58" y="575.6777">SQL_PATH: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="4562.58" y="592.7969"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="304.8281" x="4584.58" y="607.3535">DOWNLOAD_PATH: String</text><line style="stroke:#000000;stroke-width:1.0;" x1="4548.58" x2="4899.4081" y1="621.6348" y2="621.6348"/><ellipse cx="4570.58" cy="648.4727" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="281.7188" x="4584.58" y="655.0293">main(args: String[]): void</text></g><!--class BackgroundService--><g id="elem_BackgroundService"><rect codeLine="34" fill="#FFFFFF" height="282.0547" id="BackgroundService" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="361.1445" x="7876.58" y="435.2832"/><ellipse cx="7941.3657" cy="465.2832" fill="#A9DCDF" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M7944.1782,467.7832 L7937.397,467.7832 L7936.7095,469.4707 L7937.397,469.4707 Q7938.397,469.4707 7938.8345,469.877 Q7939.272,470.252 7939.272,470.877 Q7939.272,471.502 7938.8345,471.9082 Q7938.397,472.2832 7937.397,472.2832 L7933.6157,472.2832 Q7932.5845,472.2832 7932.1782,471.9082 Q7931.7407,471.502 7931.7407,470.877 Q7931.7407,470.252 7932.2095,469.8457 Q7932.647,469.4395 7933.6782,469.4707 L7938.0845,458.502 L7936.2407,458.502 Q7935.2407,458.502 7934.8032,458.127 Q7934.3657,457.7207 7934.3657,457.0957 Q7934.3657,456.4707 7934.8032,456.0957 Q7935.2407,455.6895 7936.2407,455.6895 L7942.3032,455.7207 L7947.897,469.4707 Q7948.8657,469.4707 7949.1782,469.6895 Q7949.8032,470.1582 7949.8032,470.877 Q7949.8032,471.502 7949.3657,471.9082 Q7948.9595,472.2832 7947.9595,472.2832 L7944.1782,472.2832 Q7943.1782,472.2832 7942.7407,471.9082 Q7942.3032,471.502 7942.3032,470.877 Q7942.3032,470.252 7942.7407,469.877 Q7943.1782,469.4707 7944.1782,469.4707 L7944.8657,469.4707 L7944.1782,467.7832 Z M7943.022,464.9707 L7940.772,459.4082 L7938.4907,464.9707 L7943.022,464.9707 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" font-style="italic" lengthAdjust="spacing" textLength="219.3984" x="7975.5404" y="474.8398">BackgroundService</text><line style="stroke:#000000;stroke-width:1.0;" x1="7878.58" x2="8235.7245" y1="495.2832" y2="495.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="7892.58" y="514.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="311.1445" x="7914.58" y="528.6777">backgroundThread: Thread</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="7892.58" y="545.7969"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="196.8398" x="7914.58" y="560.3535">running: boolean</text><line style="stroke:#000000;stroke-width:1.0;" x1="7878.58" x2="8235.7245" y1="574.6348" y2="574.6348"/><ellipse cx="7900.58" cy="601.4727" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="129.9258" x="7914.58" y="608.0293">start(): void</text><ellipse cx="7900.58" cy="633.1484" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="129.1406" x="7914.58" y="639.7051">stop(): void</text><ellipse cx="7900.58" cy="664.8242" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="236.8711" x="7914.58" y="671.3809">isRunning(): boolean</text><polygon fill="#FFFF44" points="7900.58,684.5,7910.58,694.5,7900.58,704.5,7890.58,694.5" style="stroke:#B38D22;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="224.0391" x="7914.58" y="703.0566">abstract task(): void</text></g><!--class DirectoryUtils--><g id="elem_DirectoryUtils"><rect codeLine="45" fill="#FFFFFF" height="123.6758" id="DirectoryUtils" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="634.9297" x="1656.58" y="1854.2832"/><ellipse cx="1887.8984" cy="1884.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M1890.7109,1876.4082 Q1890.9609,1876.0645 1891.2734,1875.9082 Q1891.5859,1875.7207 1891.9296,1875.7207 Q1892.5546,1875.7207 1892.9296,1876.1582 Q1893.3359,1876.5645 1893.3359,1877.5645 L1893.3359,1879.9395 Q1893.3359,1880.9707 1892.9296,1881.4082 Q1892.5546,1881.8145 1891.9296,1881.8145 Q1891.3671,1881.8145 1891.0234,1881.502 Q1890.6796,1881.1895 1890.5234,1880.3457 Q1890.4296,1879.752 1890.1484,1879.4395 Q1889.5859,1878.8145 1888.5546,1878.4707 Q1887.5546,1878.0957 1886.5546,1878.0957 Q1885.3046,1878.0957 1884.2421,1878.6582 Q1883.1796,1879.1895 1882.3671,1880.4395 Q1881.5859,1881.6582 1881.5859,1883.3457 L1881.5859,1885.1582 Q1881.5859,1887.1895 1883.0546,1888.5332 Q1884.5234,1889.877 1887.1171,1889.877 Q1888.6796,1889.877 1889.7734,1889.4707 Q1890.3984,1889.2207 1891.1171,1888.502 Q1891.5546,1888.0645 1891.7734,1887.9395 Q1892.0234,1887.7832 1892.3359,1887.7832 Q1892.8984,1887.7832 1893.3359,1888.2207 Q1893.7734,1888.6582 1893.7734,1889.2207 Q1893.7734,1889.7832 1893.1796,1890.4395 Q1892.3359,1891.4082 1891.0234,1891.9395 Q1889.2734,1892.6895 1887.1484,1892.6895 Q1884.6484,1892.6895 1882.6484,1891.6582 Q1881.0546,1890.8457 1879.8984,1889.0957 Q1878.7734,1887.3145 1878.7734,1885.2207 L1878.7734,1883.3145 Q1878.7734,1881.127 1879.7734,1879.252 Q1880.8046,1877.3457 1882.6171,1876.3145 Q1884.4296,1875.2832 1886.4296,1875.2832 Q1887.6484,1875.2832 1888.7109,1875.5645 Q1889.7734,1875.8457 1890.7109,1876.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="156.293" x="1925.8984" y="1893.8398">DirectoryUtils</text><line style="stroke:#000000;stroke-width:1.0;" x1="1658.58" x2="2289.5097" y1="1914.2832" y2="1914.2832"/><line style="stroke:#000000;stroke-width:1.0;" x1="1658.58" x2="2289.5097" y1="1930.2832" y2="1930.2832"/><ellipse cx="1680.58" cy="1957.1211" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="584.9297" x="1694.58" y="1963.6777">createDirectoryIfNotExists(dirPath: String): boolean</text></g><!--class NetworkUtils--><g id="elem_NetworkUtils"><rect codeLine="49" fill="#FFFFFF" height="187.0273" id="NetworkUtils" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="434.1641" x="1152.58" y="1822.2832"/><ellipse cx="1287.037" cy="1852.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M1289.8495,1844.4082 Q1290.0995,1844.0645 1290.412,1843.9082 Q1290.7245,1843.7207 1291.0683,1843.7207 Q1291.6933,1843.7207 1292.0683,1844.1582 Q1292.4745,1844.5645 1292.4745,1845.5645 L1292.4745,1847.9395 Q1292.4745,1848.9707 1292.0683,1849.4082 Q1291.6933,1849.8145 1291.0683,1849.8145 Q1290.5058,1849.8145 1290.162,1849.502 Q1289.8183,1849.1895 1289.662,1848.3457 Q1289.5683,1847.752 1289.287,1847.4395 Q1288.7245,1846.8145 1287.6933,1846.4707 Q1286.6933,1846.0957 1285.6933,1846.0957 Q1284.4433,1846.0957 1283.3808,1846.6582 Q1282.3183,1847.1895 1281.5058,1848.4395 Q1280.7245,1849.6582 1280.7245,1851.3457 L1280.7245,1853.1582 Q1280.7245,1855.1895 1282.1933,1856.5332 Q1283.662,1857.877 1286.2558,1857.877 Q1287.8183,1857.877 1288.912,1857.4707 Q1289.537,1857.2207 1290.2558,1856.502 Q1290.6933,1856.0645 1290.912,1855.9395 Q1291.162,1855.7832 1291.4745,1855.7832 Q1292.037,1855.7832 1292.4745,1856.2207 Q1292.912,1856.6582 1292.912,1857.2207 Q1292.912,1857.7832 1292.3183,1858.4395 Q1291.4745,1859.4082 1290.162,1859.9395 Q1288.412,1860.6895 1286.287,1860.6895 Q1283.787,1860.6895 1281.787,1859.6582 Q1280.1933,1858.8457 1279.037,1857.0957 Q1277.912,1855.3145 1277.912,1853.2207 L1277.912,1851.3145 Q1277.912,1849.127 1278.912,1847.252 Q1279.9433,1845.3457 1281.7558,1844.3145 Q1283.5683,1843.2832 1285.5683,1843.2832 Q1286.787,1843.2832 1287.8495,1843.5645 Q1288.912,1843.8457 1289.8495,1844.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="149.25" x="1325.037" y="1861.8398">NetworkUtils</text><line style="stroke:#000000;stroke-width:1.0;" x1="1154.58" x2="1584.7441" y1="1882.2832" y2="1882.2832"/><line style="stroke:#000000;stroke-width:1.0;" x1="1154.58" x2="1584.7441" y1="1898.2832" y2="1898.2832"/><ellipse cx="1176.58" cy="1925.1211" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="312.5977" x="1190.58" y="1931.6777">getLocalHostname(): String</text><ellipse cx="1176.58" cy="1956.7969" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="309.5391" x="1190.58" y="1963.3535">getLocalIpAddress(): String</text><ellipse cx="1176.58" cy="1988.4727" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="384.1641" x="1190.58" y="1995.0293">isPortAvailable(port: int): boolean</text></g><!--class ANSIcolor--><g id="elem_ANSIcolor"><rect codeLine="55" fill="#FFFFFF" height="377.082" id="ANSIcolor" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="227.6563" x="853.58" y="1727.2832"/><ellipse cx="905.0925" cy="1757.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M907.905,1749.4082 Q908.155,1749.0645 908.4675,1748.9082 Q908.78,1748.7207 909.1238,1748.7207 Q909.7488,1748.7207 910.1238,1749.1582 Q910.53,1749.5645 910.53,1750.5645 L910.53,1752.9395 Q910.53,1753.9707 910.1238,1754.4082 Q909.7488,1754.8145 909.1238,1754.8145 Q908.5613,1754.8145 908.2175,1754.502 Q907.8738,1754.1895 907.7175,1753.3457 Q907.6238,1752.752 907.3425,1752.4395 Q906.78,1751.8145 905.7488,1751.4707 Q904.7488,1751.0957 903.7488,1751.0957 Q902.4988,1751.0957 901.4363,1751.6582 Q900.3738,1752.1895 899.5613,1753.4395 Q898.78,1754.6582 898.78,1756.3457 L898.78,1758.1582 Q898.78,1760.1895 900.2488,1761.5332 Q901.7175,1762.877 904.3113,1762.877 Q905.8738,1762.877 906.9675,1762.4707 Q907.5925,1762.2207 908.3113,1761.502 Q908.7488,1761.0645 908.9675,1760.9395 Q909.2175,1760.7832 909.53,1760.7832 Q910.0925,1760.7832 910.53,1761.2207 Q910.9675,1761.6582 910.9675,1762.2207 Q910.9675,1762.7832 910.3738,1763.4395 Q909.53,1764.4082 908.2175,1764.9395 Q906.4675,1765.6895 904.3425,1765.6895 Q901.8425,1765.6895 899.8425,1764.6582 Q898.2488,1763.8457 897.0925,1762.0957 Q895.9675,1760.3145 895.9675,1758.2207 L895.9675,1756.3145 Q895.9675,1754.127 896.9675,1752.252 Q897.9988,1750.3457 899.8113,1749.3145 Q901.6238,1748.2832 903.6238,1748.2832 Q904.8425,1748.2832 905.905,1748.5645 Q906.9675,1748.8457 907.905,1749.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="115.4063" x="936.3175" y="1766.8398">ANSIcolor</text><line style="stroke:#000000;stroke-width:1.0;" x1="855.58" x2="1079.2363" y1="1787.2832" y2="1787.2832"/><ellipse cx="877.58" cy="1814.1211" fill="none" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="151.0313" x="891.58" y="1820.6777">RESET: String</text><ellipse cx="877.58" cy="1845.7969" fill="none" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="156.9141" x="891.58" y="1852.3535">BLACK: String</text><ellipse cx="877.58" cy="1877.4727" fill="none" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="128.5078" x="891.58" y="1884.0293">RED: String</text><ellipse cx="877.58" cy="1909.1484" fill="none" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="160.7813" x="891.58" y="1915.7051">GREEN: String</text><ellipse cx="877.58" cy="1940.8242" fill="none" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="177.6563" x="891.58" y="1947.3809">YELLOW: String</text><ellipse cx="877.58" cy="1972.5" fill="none" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="139.8516" x="891.58" y="1979.0566">BLUE: String</text><ellipse cx="877.58" cy="2004.1758" fill="none" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="169.8281" x="891.58" y="2010.7324">PURPLE: String</text><ellipse cx="877.58" cy="2035.8516" fill="none" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="148.3008" x="891.58" y="2042.4082">CYAN: String</text><ellipse cx="877.58" cy="2067.5273" fill="none" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="158.3555" x="891.58" y="2074.084">WHITE: String</text><line style="stroke:#000000;stroke-width:1.0;" x1="855.58" x2="1079.2363" y1="2088.3652" y2="2088.3652"/></g><!--class CliController--><g id="elem_CliController"><rect codeLine="69" fill="#FFFFFF" height="503.7852" id="CliController" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="659.082" x="3045.58" y="1017.2832"/><ellipse cx="3295.1972" cy="1047.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M3298.0097,1039.4082 Q3298.2597,1039.0645 3298.5722,1038.9082 Q3298.8847,1038.7207 3299.2284,1038.7207 Q3299.8534,1038.7207 3300.2284,1039.1582 Q3300.6347,1039.5645 3300.6347,1040.5645 L3300.6347,1042.9395 Q3300.6347,1043.9707 3300.2284,1044.4082 Q3299.8534,1044.8145 3299.2284,1044.8145 Q3298.6659,1044.8145 3298.3222,1044.502 Q3297.9784,1044.1895 3297.8222,1043.3457 Q3297.7284,1042.752 3297.4472,1042.4395 Q3296.8847,1041.8145 3295.8534,1041.4707 Q3294.8534,1041.0957 3293.8534,1041.0957 Q3292.6034,1041.0957 3291.5409,1041.6582 Q3290.4784,1042.1895 3289.6659,1043.4395 Q3288.8847,1044.6582 3288.8847,1046.3457 L3288.8847,1048.1582 Q3288.8847,1050.1895 3290.3534,1051.5332 Q3291.8222,1052.877 3294.4159,1052.877 Q3295.9784,1052.877 3297.0722,1052.4707 Q3297.6972,1052.2207 3298.4159,1051.502 Q3298.8534,1051.0645 3299.0722,1050.9395 Q3299.3222,1050.7832 3299.6347,1050.7832 Q3300.1972,1050.7832 3300.6347,1051.2207 Q3301.0722,1051.6582 3301.0722,1052.2207 Q3301.0722,1052.7832 3300.4784,1053.4395 Q3299.6347,1054.4082 3298.3222,1054.9395 Q3296.5722,1055.6895 3294.4472,1055.6895 Q3291.9472,1055.6895 3289.9472,1054.6582 Q3288.3534,1053.8457 3287.1972,1052.0957 Q3286.0722,1050.3145 3286.0722,1048.2207 L3286.0722,1046.3145 Q3286.0722,1044.127 3287.0722,1042.252 Q3288.1034,1040.3457 3289.9159,1039.3145 Q3291.7284,1038.2832 3293.7284,1038.2832 Q3294.9472,1038.2832 3296.0097,1038.5645 Q3297.0722,1038.8457 3298.0097,1039.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="143.8477" x="3333.1972" y="1056.8398">CliController</text><line style="stroke:#000000;stroke-width:1.0;" x1="3047.58" x2="3702.662" y1="1077.2832" y2="1077.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="3061.58" y="1096.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="193.1602" x="3083.58" y="1110.6777">scanner: Scanner</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="3061.58" y="1127.7969"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="327.4688" x="3083.58" y="1142.3535">chat_history: ChatRepository</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="3061.58" y="1159.4727"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="410.9766" x="3083.58" y="1174.0293">networkManager: NetworkManager</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="3061.58" y="1191.1484"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="169.8281" x="3083.58" y="1205.7051">localUser: User</text><line style="stroke:#000000;stroke-width:1.0;" x1="3047.58" x2="3702.662" y1="1219.9863" y2="1219.9863"/><ellipse cx="3069.58" cy="1246.8242" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="609.082" x="3083.58" y="1253.3809">CliController(sql_path: String, download_path: String)</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="3061.58" y="1270.5"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="561.9141" x="3083.58" y="1285.0566">getLocalHostname(user_defined_port: int): String</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="3061.58" y="1302.1758"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="256.4531" x="3083.58" y="1316.7324">getPortFromUser(): int</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="3061.58" y="1333.8516"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="448.9688" x="3083.58" y="1348.4082">setupLocalUser(hostname: String): void</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="3061.58" y="1365.5273"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="522.1758" x="3083.58" y="1380.084">showMainMenu(download_path: String): void</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="3061.58" y="1397.2031"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="460.0898" x="3083.58" y="1411.7598">sendMode(download_path: String): void</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="3061.58" y="1428.8789"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="486.2578" x="3083.58" y="1443.4355">receiveMode(download_path: String): void</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="3061.58" y="1460.5547"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="576.375" x="3083.58" y="1475.1113">receiveMessageMode(downloadPath: String): void</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="3061.58" y="1492.2305"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="253.2773" x="3083.58" y="1506.7871">closeResources(): void</text></g><!--class ChatSession--><g id="elem_ChatSession"><rect codeLine="85" fill="#FFFFFF" height="725.5156" id="ChatSession" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="1804.9414" x="2601.58" y="2280.2832"/><ellipse cx="3426.4706" cy="2310.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M3429.2831,2302.4082 Q3429.5331,2302.0645 3429.8456,2301.9082 Q3430.1581,2301.7207 3430.5019,2301.7207 Q3431.1269,2301.7207 3431.5019,2302.1582 Q3431.9081,2302.5645 3431.9081,2303.5645 L3431.9081,2305.9395 Q3431.9081,2306.9707 3431.5019,2307.4082 Q3431.1269,2307.8145 3430.5019,2307.8145 Q3429.9394,2307.8145 3429.5956,2307.502 Q3429.2519,2307.1895 3429.0956,2306.3457 Q3429.0019,2305.752 3428.7206,2305.4395 Q3428.1581,2304.8145 3427.1269,2304.4707 Q3426.1269,2304.0957 3425.1269,2304.0957 Q3423.8769,2304.0957 3422.8144,2304.6582 Q3421.7519,2305.1895 3420.9394,2306.4395 Q3420.1581,2307.6582 3420.1581,2309.3457 L3420.1581,2311.1582 Q3420.1581,2313.1895 3421.6269,2314.5332 Q3423.0956,2315.877 3425.6894,2315.877 Q3427.2519,2315.877 3428.3456,2315.4707 Q3428.9706,2315.2207 3429.6894,2314.502 Q3430.1269,2314.0645 3430.3456,2313.9395 Q3430.5956,2313.7832 3430.9081,2313.7832 Q3431.4706,2313.7832 3431.9081,2314.2207 Q3432.3456,2314.6582 3432.3456,2315.2207 Q3432.3456,2315.7832 3431.7519,2316.4395 Q3430.9081,2317.4082 3429.5956,2317.9395 Q3427.8456,2318.6895 3425.7206,2318.6895 Q3423.2206,2318.6895 3421.2206,2317.6582 Q3419.6269,2316.8457 3418.4706,2315.0957 Q3417.3456,2313.3145 3417.3456,2311.2207 L3417.3456,2309.3145 Q3417.3456,2307.127 3418.3456,2305.252 Q3419.3769,2303.3457 3421.1894,2302.3145 Q3423.0019,2301.2832 3425.0019,2301.2832 Q3426.2206,2301.2832 3427.2831,2301.5645 Q3428.3456,2301.8457 3429.2831,2302.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="139.1602" x="3464.4706" y="2319.8398">ChatSession</text><line style="stroke:#000000;stroke-width:1.0;" x1="2603.58" x2="4404.5214" y1="2340.2832" y2="2340.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2359.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="330.2344" x="2639.58" y="2373.6777">CHAT_CLOSE_NOTIFY: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2390.7969"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="193.1602" x="2639.58" y="2405.3535">scanner: Scanner</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2422.4727"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="410.9766" x="2639.58" y="2437.0293">networkManager: NetworkManager</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2454.1484"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="285.2695" x="2639.58" y="2468.7051">sql_path: ChatRepository</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2485.8242"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="169.8281" x="2639.58" y="2500.3809">localUser: User</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2517.5"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="228.4805" x="2639.58" y="2532.0566">opposite_User: User</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2549.1758"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="259.043" x="2639.58" y="2563.7324">download_path: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2580.8516"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="377.4961" x="2639.58" y="2595.4082">messageService: MessageService</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2612.5273"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="435.6445" x="2639.58" y="2627.084">fileTransferService: FileTransferService</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2644.2031"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="333.7148" x="2639.58" y="2658.7598">commands: List&lt;Command&gt;</text><line style="stroke:#000000;stroke-width:1.0;" x1="2603.58" x2="4404.5214" y1="2673.041" y2="2673.041"/><ellipse cx="2625.58" cy="2699.8789" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="1754.9414" x="2639.58" y="2706.4355">ChatSession(scanner: Scanner, networkManager: NetworkManager, sql_path: ChatRepository, localUser: User, opposite_User: User, downloadPath: String)</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2723.5547"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="245.8125" x="2639.58" y="2738.1113">initCommands(): void</text><ellipse cx="2625.58" cy="2763.2305" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="129.9258" x="2639.58" y="2769.7871">start(): void</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2786.9063"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="484.8633" x="2639.58" y="2801.4629">createMessageHandler(): MessageHandler</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2818.582"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="228.4453" x="2639.58" y="2833.1387">runChatLoop(): void</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2850.2578"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="386.4492" x="2639.58" y="2864.8145">initializeFileTransferService(): void</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2881.9336"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="273.7617" x="2639.58" y="2896.4902">showChatHistory(): void</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2913.6094"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="549.6914" x="2639.58" y="2928.166">handleCommand(commandStr: String): boolean</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2617.58" y="2945.2852"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="283.3711" x="2639.58" y="2959.8418">handleFileReceive(): void</text><ellipse cx="2625.58" cy="2984.9609" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="590.1094" x="2639.58" y="2991.5176">shutdownChat(notify_opposite_user: boolean): void</text></g><!--class ConnectionHandler--><g id="elem_ConnectionHandler"><rect codeLine="108" fill="#FFFFFF" height="408.7578" id="ConnectionHandler" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="1574.0234" x="2588.58" y="1712.2832"/><ellipse cx="3256.0644" cy="1742.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M3258.8769,1734.4082 Q3259.1269,1734.0645 3259.4394,1733.9082 Q3259.7519,1733.7207 3260.0956,1733.7207 Q3260.7206,1733.7207 3261.0956,1734.1582 Q3261.5019,1734.5645 3261.5019,1735.5645 L3261.5019,1737.9395 Q3261.5019,1738.9707 3261.0956,1739.4082 Q3260.7206,1739.8145 3260.0956,1739.8145 Q3259.5331,1739.8145 3259.1894,1739.502 Q3258.8456,1739.1895 3258.6894,1738.3457 Q3258.5956,1737.752 3258.3144,1737.4395 Q3257.7519,1736.8145 3256.7206,1736.4707 Q3255.7206,1736.0957 3254.7206,1736.0957 Q3253.4706,1736.0957 3252.4081,1736.6582 Q3251.3456,1737.1895 3250.5331,1738.4395 Q3249.7519,1739.6582 3249.7519,1741.3457 L3249.7519,1743.1582 Q3249.7519,1745.1895 3251.2206,1746.5332 Q3252.6894,1747.877 3255.2831,1747.877 Q3256.8456,1747.877 3257.9394,1747.4707 Q3258.5644,1747.2207 3259.2831,1746.502 Q3259.7206,1746.0645 3259.9394,1745.9395 Q3260.1894,1745.7832 3260.5019,1745.7832 Q3261.0644,1745.7832 3261.5019,1746.2207 Q3261.9394,1746.6582 3261.9394,1747.2207 Q3261.9394,1747.7832 3261.3456,1748.4395 Q3260.5019,1749.4082 3259.1894,1749.9395 Q3257.4394,1750.6895 3255.3144,1750.6895 Q3252.8144,1750.6895 3250.8144,1749.6582 Q3249.2206,1748.8457 3248.0644,1747.0957 Q3246.9394,1745.3145 3246.9394,1743.2207 L3246.9394,1741.3145 Q3246.9394,1739.127 3247.9394,1737.252 Q3248.9706,1735.3457 3250.7831,1734.3145 Q3252.5956,1733.2832 3254.5956,1733.2832 Q3255.8144,1733.2832 3256.8769,1733.5645 Q3257.9394,1733.8457 3258.8769,1734.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="223.0547" x="3294.0644" y="1751.8398">ConnectionHandler</text><line style="stroke:#000000;stroke-width:1.0;" x1="2590.58" x2="4160.6034" y1="1772.2832" y2="1772.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2604.58" y="1791.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="193.1602" x="2626.58" y="1805.6777">scanner: Scanner</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2604.58" y="1822.7969"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="410.9766" x="2626.58" y="1837.3535">networkManager: NetworkManager</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2604.58" y="1854.4727"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="169.8281" x="2626.58" y="1869.0293">localUser: User</text><line style="stroke:#000000;stroke-width:1.0;" x1="2590.58" x2="4160.6034" y1="1883.3105" y2="1883.3105"/><ellipse cx="2612.58" cy="1910.1484" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="1038.8086" x="2626.58" y="1916.7051">ConnectionHandler(scanner: Scanner, networkManager: NetworkManager, localUser: User)</text><ellipse cx="2612.58" cy="1941.8242" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="313.5586" x="2626.58" y="1948.3809">establishConnection(): User</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2604.58" y="1965.5"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="231.1406" x="2626.58" y="1980.0566">getTargetIP(): String</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2604.58" y="1997.1758"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="219.082" x="2626.58" y="2011.7324">getTargetPort(): int</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2604.58" y="2028.8516"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="301.8633" x="2626.58" y="2043.4082">performHandshake(): User</text><ellipse cx="2612.58" cy="2068.5273" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="1524.0234" x="2626.58" y="2075.084">waitForConnection(networkManager: NetworkManager, localUser: User, chatRepository: ChatRepository, downloadPath: String): void</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="2604.58" y="2092.2031"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="967.5586" x="2626.58" y="2106.7598">performServerHandshake(networkManager: NetworkManager, localUser: User): User</text></g><!--class InputHandler--><g id="elem_InputHandler"><rect codeLine="122" fill="#FFFFFF" height="187.0273" id="InputHandler" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="660.8867" x="2499.58" y="4758.2832"/><ellipse cx="2746.0038" cy="4788.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M2748.8163,4780.4082 Q2749.0663,4780.0645 2749.3788,4779.9082 Q2749.6913,4779.7207 2750.0351,4779.7207 Q2750.6601,4779.7207 2751.0351,4780.1582 Q2751.4413,4780.5645 2751.4413,4781.5645 L2751.4413,4783.9395 Q2751.4413,4784.9707 2751.0351,4785.4082 Q2750.6601,4785.8145 2750.0351,4785.8145 Q2749.4726,4785.8145 2749.1288,4785.502 Q2748.7851,4785.1895 2748.6288,4784.3457 Q2748.5351,4783.752 2748.2538,4783.4395 Q2747.6913,4782.8145 2746.6601,4782.4707 Q2745.6601,4782.0957 2744.6601,4782.0957 Q2743.4101,4782.0957 2742.3476,4782.6582 Q2741.2851,4783.1895 2740.4726,4784.4395 Q2739.6913,4785.6582 2739.6913,4787.3457 L2739.6913,4789.1582 Q2739.6913,4791.1895 2741.1601,4792.5332 Q2742.6288,4793.877 2745.2226,4793.877 Q2746.7851,4793.877 2747.8788,4793.4707 Q2748.5038,4793.2207 2749.2226,4792.502 Q2749.6601,4792.0645 2749.8788,4791.9395 Q2750.1288,4791.7832 2750.4413,4791.7832 Q2751.0038,4791.7832 2751.4413,4792.2207 Q2751.8788,4792.6582 2751.8788,4793.2207 Q2751.8788,4793.7832 2751.2851,4794.4395 Q2750.4413,4795.4082 2749.1288,4795.9395 Q2747.3788,4796.6895 2745.2538,4796.6895 Q2742.7538,4796.6895 2740.7538,4795.6582 Q2739.1601,4794.8457 2738.0038,4793.0957 Q2736.8788,4791.3145 2736.8788,4789.2207 L2736.8788,4787.3145 Q2736.8788,4785.127 2737.8788,4783.252 Q2738.9101,4781.3457 2740.7226,4780.3145 Q2742.5351,4779.2832 2744.5351,4779.2832 Q2745.7538,4779.2832 2746.8163,4779.5645 Q2747.8788,4779.8457 2748.8163,4780.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="152.0391" x="2784.0038" y="4797.8398">InputHandler</text><line style="stroke:#000000;stroke-width:1.0;" x1="2501.58" x2="3158.4667" y1="4818.2832" y2="4818.2832"/><line style="stroke:#000000;stroke-width:1.0;" x1="2501.58" x2="3158.4667" y1="4834.2832" y2="4834.2832"/><ellipse cx="2523.58" cy="4861.1211" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="610.8867" x="2537.58" y="4867.6777">waitForEnter(scanner: Scanner, message: String): void</text><ellipse cx="2523.58" cy="4892.7969" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="546.5273" x="2537.58" y="4899.3535">checkInputAvailable(scanner: Scanner): boolean</text><ellipse cx="2523.58" cy="4924.4727" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="402.8555" x="2537.58" y="4931.0293">readInput(scanner: Scanner): String</text></g><!--class MenuDisplay--><g id="elem_MenuDisplay"><rect codeLine="128" fill="#FFFFFF" height="187.0273" id="MenuDisplay" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="572.7383" x="3229.58" y="4758.2832"/><ellipse cx="3432.8964" cy="4788.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M3435.7089,4780.4082 Q3435.9589,4780.0645 3436.2714,4779.9082 Q3436.5839,4779.7207 3436.9277,4779.7207 Q3437.5527,4779.7207 3437.9277,4780.1582 Q3438.3339,4780.5645 3438.3339,4781.5645 L3438.3339,4783.9395 Q3438.3339,4784.9707 3437.9277,4785.4082 Q3437.5527,4785.8145 3436.9277,4785.8145 Q3436.3652,4785.8145 3436.0214,4785.502 Q3435.6777,4785.1895 3435.5214,4784.3457 Q3435.4277,4783.752 3435.1464,4783.4395 Q3434.5839,4782.8145 3433.5527,4782.4707 Q3432.5527,4782.0957 3431.5527,4782.0957 Q3430.3027,4782.0957 3429.2402,4782.6582 Q3428.1777,4783.1895 3427.3652,4784.4395 Q3426.5839,4785.6582 3426.5839,4787.3457 L3426.5839,4789.1582 Q3426.5839,4791.1895 3428.0527,4792.5332 Q3429.5214,4793.877 3432.1152,4793.877 Q3433.6777,4793.877 3434.7714,4793.4707 Q3435.3964,4793.2207 3436.1152,4792.502 Q3436.5527,4792.0645 3436.7714,4791.9395 Q3437.0214,4791.7832 3437.3339,4791.7832 Q3437.8964,4791.7832 3438.3339,4792.2207 Q3438.7714,4792.6582 3438.7714,4793.2207 Q3438.7714,4793.7832 3438.1777,4794.4395 Q3437.3339,4795.4082 3436.0214,4795.9395 Q3434.2714,4796.6895 3432.1464,4796.6895 Q3429.6464,4796.6895 3427.6464,4795.6582 Q3426.0527,4794.8457 3424.8964,4793.0957 Q3423.7714,4791.3145 3423.7714,4789.2207 L3423.7714,4787.3145 Q3423.7714,4785.127 3424.7714,4783.252 Q3425.8027,4781.3457 3427.6152,4780.3145 Q3429.4277,4779.2832 3431.4277,4779.2832 Q3432.6464,4779.2832 3433.7089,4779.5645 Q3434.7714,4779.8457 3435.7089,4780.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="150.1055" x="3470.8964" y="4797.8398">MenuDisplay</text><line style="stroke:#000000;stroke-width:1.0;" x1="3231.58" x2="3800.3183" y1="4818.2832" y2="4818.2832"/><line style="stroke:#000000;stroke-width:1.0;" x1="3231.58" x2="3800.3183" y1="4834.2832" y2="4834.2832"/><ellipse cx="3253.58" cy="4861.1211" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="210.0469" x="3267.58" y="4867.6777">clearScreen(): void</text><ellipse cx="3253.58" cy="4892.7969" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="370.6055" x="3267.58" y="4899.3535">printSeparator(title: String): void</text><ellipse cx="3253.58" cy="4924.4727" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="522.7383" x="3267.58" y="4931.0293">printMenu(title: String, options: String[]): void</text></g><!--class Command--><g id="elem_Command"><rect codeLine="270" fill="#FFFFFF" height="282.0547" id="Command" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="670.9766" x="3636.58" y="3291.2832"/><ellipse cx="3904.2206" cy="3321.2832" fill="#B4A7E5" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M3906.0331,3315.502 L3906.0331,3326.4707 L3908.8456,3326.4707 Q3909.8769,3326.4707 3910.2831,3326.877 Q3910.7206,3327.252 3910.7206,3327.877 Q3910.7206,3328.502 3910.2831,3328.9082 Q3909.8769,3329.2832 3908.8456,3329.2832 L3900.3769,3329.2832 Q3899.3769,3329.2832 3898.9394,3328.9082 Q3898.5331,3328.502 3898.5331,3327.877 Q3898.5331,3327.252 3898.9394,3326.877 Q3899.3769,3326.4707 3900.3769,3326.4707 L3903.2206,3326.4707 L3903.2206,3315.502 L3900.3769,3315.502 Q3899.3769,3315.502 3898.9394,3315.127 Q3898.5331,3314.7207 3898.5331,3314.0957 Q3898.5331,3313.4707 3898.9394,3313.0957 Q3899.3769,3312.6895 3900.3769,3312.6895 L3908.8456,3312.7207 Q3909.8769,3312.7207 3910.2831,3313.0957 Q3910.7206,3313.4707 3910.7206,3314.0957 Q3910.7206,3314.7207 3910.2831,3315.127 Q3909.8769,3315.502 3908.8456,3315.502 L3906.0331,3315.502 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" font-style="italic" lengthAdjust="spacing" textLength="119.6953" x="3942.2206" y="3330.8398">Command</text><line style="stroke:#000000;stroke-width:1.0;" x1="3638.58" x2="4305.5566" y1="3351.2832" y2="3351.2832"/><line style="stroke:#000000;stroke-width:1.0;" x1="3638.58" x2="4305.5566" y1="3367.2832" y2="3367.2832"/><ellipse cx="3660.58" cy="3441.6348" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="478.4414" x="3674.58" y="3400.6777">execute(scanner: Scanner, localUser: User,</text><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="613.875" x="3674.58" y="3432.3535">oppositeUser: User, messageService: MessageService,</text><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="441.4219" x="3674.58" y="3464.0293">fileTransferService: FileTransferService,</text><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="476.6016" x="3674.58" y="3495.7051">chatRepository: ChatRepository): boolean</text><ellipse cx="3660.58" cy="3520.8242" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="204.1875" x="3674.58" y="3527.3809">getName(): String</text><ellipse cx="3660.58" cy="3552.5" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="266.6016" x="3674.58" y="3559.0566">getDescription(): String</text></g><!--class HelpCommand--><g id="elem_HelpCommand"><rect codeLine="276" fill="#FFFFFF" height="218.7031" id="HelpCommand" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="573.3359" x="3284.58" y="3907.2832"/><ellipse cx="3476.453" cy="3937.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M3479.2655,3929.4082 Q3479.5155,3929.0645 3479.828,3928.9082 Q3480.1405,3928.7207 3480.4843,3928.7207 Q3481.1093,3928.7207 3481.4843,3929.1582 Q3481.8905,3929.5645 3481.8905,3930.5645 L3481.8905,3932.9395 Q3481.8905,3933.9707 3481.4843,3934.4082 Q3481.1093,3934.8145 3480.4843,3934.8145 Q3479.9218,3934.8145 3479.578,3934.502 Q3479.2343,3934.1895 3479.078,3933.3457 Q3478.9843,3932.752 3478.703,3932.4395 Q3478.1405,3931.8145 3477.1093,3931.4707 Q3476.1093,3931.0957 3475.1093,3931.0957 Q3473.8593,3931.0957 3472.7968,3931.6582 Q3471.7343,3932.1895 3470.9218,3933.4395 Q3470.1405,3934.6582 3470.1405,3936.3457 L3470.1405,3938.1582 Q3470.1405,3940.1895 3471.6093,3941.5332 Q3473.078,3942.877 3475.6718,3942.877 Q3477.2343,3942.877 3478.328,3942.4707 Q3478.953,3942.2207 3479.6718,3941.502 Q3480.1093,3941.0645 3480.328,3940.9395 Q3480.578,3940.7832 3480.8905,3940.7832 Q3481.453,3940.7832 3481.8905,3941.2207 Q3482.328,3941.6582 3482.328,3942.2207 Q3482.328,3942.7832 3481.7343,3943.4395 Q3480.8905,3944.4082 3479.578,3944.9395 Q3477.828,3945.6895 3475.703,3945.6895 Q3473.203,3945.6895 3471.203,3944.6582 Q3469.6093,3943.8457 3468.453,3942.0957 Q3467.328,3940.3145 3467.328,3938.2207 L3467.328,3936.3145 Q3467.328,3934.127 3468.328,3932.252 Q3469.3593,3930.3457 3471.1718,3929.3145 Q3472.9843,3928.2832 3474.9843,3928.2832 Q3476.203,3928.2832 3477.2655,3928.5645 Q3478.328,3928.8457 3479.2655,3929.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="173.5898" x="3514.453" y="3946.8398">HelpCommand</text><line style="stroke:#000000;stroke-width:1.0;" x1="3286.58" x2="3855.9159" y1="3967.2832" y2="3967.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="3300.58" y="3986.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="333.7148" x="3322.58" y="4000.6777">commands: List&lt;Command&gt;</text><line style="stroke:#000000;stroke-width:1.0;" x1="3286.58" x2="3855.9159" y1="4014.959" y2="4014.959"/><ellipse cx="3308.58" cy="4041.7969" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="523.3359" x="3322.58" y="4048.3535">HelpCommand(commands: List&lt;Command&gt;)</text><ellipse cx="3308.58" cy="4073.4727" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="204.1875" x="3322.58" y="4080.0293">getName(): String</text><ellipse cx="3308.58" cy="4105.1484" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="266.6016" x="3322.58" y="4111.7051">getDescription(): String</text></g><!--class ExitCommand--><g id="elem_ExitCommand"><rect codeLine="283" fill="#FFFFFF" height="250.3789" id="ExitCommand" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="1030.4844" x="4316.58" y="3891.2832"/><ellipse cx="4743.6308" cy="3921.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M4746.4433,3913.4082 Q4746.6933,3913.0645 4747.0058,3912.9082 Q4747.3183,3912.7207 4747.662,3912.7207 Q4748.287,3912.7207 4748.662,3913.1582 Q4749.0683,3913.5645 4749.0683,3914.5645 L4749.0683,3916.9395 Q4749.0683,3917.9707 4748.662,3918.4082 Q4748.287,3918.8145 4747.662,3918.8145 Q4747.0995,3918.8145 4746.7558,3918.502 Q4746.412,3918.1895 4746.2558,3917.3457 Q4746.162,3916.752 4745.8808,3916.4395 Q4745.3183,3915.8145 4744.287,3915.4707 Q4743.287,3915.0957 4742.287,3915.0957 Q4741.037,3915.0957 4739.9745,3915.6582 Q4738.912,3916.1895 4738.0995,3917.4395 Q4737.3183,3918.6582 4737.3183,3920.3457 L4737.3183,3922.1582 Q4737.3183,3924.1895 4738.787,3925.5332 Q4740.2558,3926.877 4742.8495,3926.877 Q4744.412,3926.877 4745.5058,3926.4707 Q4746.1308,3926.2207 4746.8495,3925.502 Q4747.287,3925.0645 4747.5058,3924.9395 Q4747.7558,3924.7832 4748.0683,3924.7832 Q4748.6308,3924.7832 4749.0683,3925.2207 Q4749.5058,3925.6582 4749.5058,3926.2207 Q4749.5058,3926.7832 4748.912,3927.4395 Q4748.0683,3928.4082 4746.7558,3928.9395 Q4745.0058,3929.6895 4742.8808,3929.6895 Q4740.3808,3929.6895 4738.3808,3928.6582 Q4736.787,3927.8457 4735.6308,3926.0957 Q4734.5058,3924.3145 4734.5058,3922.2207 L4734.5058,3920.3145 Q4734.5058,3918.127 4735.5058,3916.252 Q4736.537,3914.3457 4738.3495,3913.3145 Q4740.162,3912.2832 4742.162,3912.2832 Q4743.3808,3912.2832 4744.4433,3912.5645 Q4745.5058,3912.8457 4746.4433,3913.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="160.3828" x="4781.6308" y="3930.8398">ExitCommand</text><line style="stroke:#000000;stroke-width:1.0;" x1="4318.58" x2="5345.0644" y1="3951.2832" y2="3951.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="4332.58" y="3970.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="410.9766" x="4354.58" y="3984.6777">networkManager: NetworkManager</text><line style="stroke:#000000;stroke-width:1.0;" x1="4318.58" x2="5345.0644" y1="3998.959" y2="3998.959"/><ellipse cx="4340.58" cy="4025.7969" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="587.3906" x="4354.58" y="4032.3535">ExitCommand(networkManager: NetworkManager)</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="4332.58" y="4049.4727"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="980.4844" x="4354.58" y="4064.0293">shutdownChat(messageService: MessageService, notify_opposite_user: boolean): void</text><ellipse cx="4340.58" cy="4089.1484" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="204.1875" x="4354.58" y="4095.7051">getName(): String</text><ellipse cx="4340.58" cy="4120.8242" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="266.6016" x="4354.58" y="4127.3809">getDescription(): String</text></g><!--class FileCommand--><g id="elem_FileCommand"><rect codeLine="291" fill="#FFFFFF" height="155.3516" id="FileCommand" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="316.6016" x="5417.58" y="3938.2832"/><ellipse cx="5489.5745" cy="3968.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M5492.387,3960.4082 Q5492.637,3960.0645 5492.9495,3959.9082 Q5493.262,3959.7207 5493.6058,3959.7207 Q5494.2308,3959.7207 5494.6058,3960.1582 Q5495.012,3960.5645 5495.012,3961.5645 L5495.012,3963.9395 Q5495.012,3964.9707 5494.6058,3965.4082 Q5494.2308,3965.8145 5493.6058,3965.8145 Q5493.0433,3965.8145 5492.6995,3965.502 Q5492.3558,3965.1895 5492.1995,3964.3457 Q5492.1058,3963.752 5491.8245,3963.4395 Q5491.262,3962.8145 5490.2308,3962.4707 Q5489.2308,3962.0957 5488.2308,3962.0957 Q5486.9808,3962.0957 5485.9183,3962.6582 Q5484.8558,3963.1895 5484.0433,3964.4395 Q5483.262,3965.6582 5483.262,3967.3457 L5483.262,3969.1582 Q5483.262,3971.1895 5484.7308,3972.5332 Q5486.1995,3973.877 5488.7933,3973.877 Q5490.3558,3973.877 5491.4495,3973.4707 Q5492.0745,3973.2207 5492.7933,3972.502 Q5493.2308,3972.0645 5493.4495,3971.9395 Q5493.6995,3971.7832 5494.012,3971.7832 Q5494.5745,3971.7832 5495.012,3972.2207 Q5495.4495,3972.6582 5495.4495,3973.2207 Q5495.4495,3973.7832 5494.8558,3974.4395 Q5494.012,3975.4082 5492.6995,3975.9395 Q5490.9495,3976.6895 5488.8245,3976.6895 Q5486.3245,3976.6895 5484.3245,3975.6582 Q5482.7308,3974.8457 5481.5745,3973.0957 Q5480.4495,3971.3145 5480.4495,3969.2207 L5480.4495,3967.3145 Q5480.4495,3965.127 5481.4495,3963.252 Q5482.4808,3961.3457 5484.2933,3960.3145 Q5486.1058,3959.2832 5488.1058,3959.2832 Q5489.3245,3959.2832 5490.387,3959.5645 Q5491.4495,3959.8457 5492.387,3960.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="158.8359" x="5525.3511" y="3977.8398">FileCommand</text><line style="stroke:#000000;stroke-width:1.0;" x1="5419.58" x2="5732.1816" y1="3998.2832" y2="3998.2832"/><line style="stroke:#000000;stroke-width:1.0;" x1="5419.58" x2="5732.1816" y1="4014.2832" y2="4014.2832"/><ellipse cx="5441.58" cy="4041.1211" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="204.1875" x="5455.58" y="4047.6777">getName(): String</text><ellipse cx="5441.58" cy="4072.7969" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="266.6016" x="5455.58" y="4079.3535">getDescription(): String</text></g><!--class HistoryCommand--><g id="elem_HistoryCommand"><rect codeLine="296" fill="#FFFFFF" height="155.3516" id="HistoryCommand" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="316.6016" x="2897.58" y="3938.2832"/><ellipse cx="2950.2316" cy="3968.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M2953.0441,3960.4082 Q2953.2941,3960.0645 2953.6066,3959.9082 Q2953.9191,3959.7207 2954.2628,3959.7207 Q2954.8878,3959.7207 2955.2628,3960.1582 Q2955.6691,3960.5645 2955.6691,3961.5645 L2955.6691,3963.9395 Q2955.6691,3964.9707 2955.2628,3965.4082 Q2954.8878,3965.8145 2954.2628,3965.8145 Q2953.7003,3965.8145 2953.3566,3965.502 Q2953.0128,3965.1895 2952.8566,3964.3457 Q2952.7628,3963.752 2952.4816,3963.4395 Q2951.9191,3962.8145 2950.8878,3962.4707 Q2949.8878,3962.0957 2948.8878,3962.0957 Q2947.6378,3962.0957 2946.5753,3962.6582 Q2945.5128,3963.1895 2944.7003,3964.4395 Q2943.9191,3965.6582 2943.9191,3967.3457 L2943.9191,3969.1582 Q2943.9191,3971.1895 2945.3878,3972.5332 Q2946.8566,3973.877 2949.4503,3973.877 Q2951.0128,3973.877 2952.1066,3973.4707 Q2952.7316,3973.2207 2953.4503,3972.502 Q2953.8878,3972.0645 2954.1066,3971.9395 Q2954.3566,3971.7832 2954.6691,3971.7832 Q2955.2316,3971.7832 2955.6691,3972.2207 Q2956.1066,3972.6582 2956.1066,3973.2207 Q2956.1066,3973.7832 2955.5128,3974.4395 Q2954.6691,3975.4082 2953.3566,3975.9395 Q2951.6066,3976.6895 2949.4816,3976.6895 Q2946.9816,3976.6895 2944.9816,3975.6582 Q2943.3878,3974.8457 2942.2316,3973.0957 Q2941.1066,3971.3145 2941.1066,3969.2207 L2941.1066,3967.3145 Q2941.1066,3965.127 2942.1066,3963.252 Q2943.1378,3961.3457 2944.9503,3960.3145 Q2946.7628,3959.2832 2948.7628,3959.2832 Q2949.9816,3959.2832 2951.0441,3959.5645 Q2952.1066,3959.8457 2953.0441,3960.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="201.8203" x="2981.7097" y="3977.8398">HistoryCommand</text><line style="stroke:#000000;stroke-width:1.0;" x1="2899.58" x2="3212.1816" y1="3998.2832" y2="3998.2832"/><line style="stroke:#000000;stroke-width:1.0;" x1="2899.58" x2="3212.1816" y1="4014.2832" y2="4014.2832"/><ellipse cx="2921.58" cy="4041.1211" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="204.1875" x="2935.58" y="4047.6777">getName(): String</text><ellipse cx="2921.58" cy="4072.7969" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="266.6016" x="2935.58" y="4079.3535">getDescription(): String</text></g><!--class ClearCommand--><g id="elem_ClearCommand"><rect codeLine="301" fill="#FFFFFF" height="155.3516" id="ClearCommand" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="316.6016" x="3929.58" y="3938.2832"/><ellipse cx="3992.8681" cy="3968.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M3995.6806,3960.4082 Q3995.9306,3960.0645 3996.2431,3959.9082 Q3996.5556,3959.7207 3996.8993,3959.7207 Q3997.5243,3959.7207 3997.8993,3960.1582 Q3998.3056,3960.5645 3998.3056,3961.5645 L3998.3056,3963.9395 Q3998.3056,3964.9707 3997.8993,3965.4082 Q3997.5243,3965.8145 3996.8993,3965.8145 Q3996.3368,3965.8145 3995.9931,3965.502 Q3995.6493,3965.1895 3995.4931,3964.3457 Q3995.3993,3963.752 3995.1181,3963.4395 Q3994.5556,3962.8145 3993.5243,3962.4707 Q3992.5243,3962.0957 3991.5243,3962.0957 Q3990.2743,3962.0957 3989.2118,3962.6582 Q3988.1493,3963.1895 3987.3368,3964.4395 Q3986.5556,3965.6582 3986.5556,3967.3457 L3986.5556,3969.1582 Q3986.5556,3971.1895 3988.0243,3972.5332 Q3989.4931,3973.877 3992.0868,3973.877 Q3993.6493,3973.877 3994.7431,3973.4707 Q3995.3681,3973.2207 3996.0868,3972.502 Q3996.5243,3972.0645 3996.7431,3971.9395 Q3996.9931,3971.7832 3997.3056,3971.7832 Q3997.8681,3971.7832 3998.3056,3972.2207 Q3998.7431,3972.6582 3998.7431,3973.2207 Q3998.7431,3973.7832 3998.1493,3974.4395 Q3997.3056,3975.4082 3995.9931,3975.9395 Q3994.2431,3976.6895 3992.1181,3976.6895 Q3989.6181,3976.6895 3987.6181,3975.6582 Q3986.0243,3974.8457 3984.8681,3973.0957 Q3983.7431,3971.3145 3983.7431,3969.2207 L3983.7431,3967.3145 Q3983.7431,3965.127 3984.7431,3963.252 Q3985.7743,3961.3457 3987.5868,3960.3145 Q3989.3993,3959.2832 3991.3993,3959.2832 Q3992.6181,3959.2832 3993.6806,3959.5645 Q3994.7431,3959.8457 3995.6806,3960.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="178.1836" x="4026.7099" y="3977.8398">ClearCommand</text><line style="stroke:#000000;stroke-width:1.0;" x1="3931.58" x2="4244.1816" y1="3998.2832" y2="3998.2832"/><line style="stroke:#000000;stroke-width:1.0;" x1="3931.58" x2="4244.1816" y1="4014.2832" y2="4014.2832"/><ellipse cx="3953.58" cy="4041.1211" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="204.1875" x="3967.58" y="4047.6777">getName(): String</text><ellipse cx="3953.58" cy="4072.7969" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="266.6016" x="3967.58" y="4079.3535">getDescription(): String</text></g><!--class NetworkManager--><g id="elem_NetworkManager"><rect codeLine="137" fill="#FFFFFF" height="852.2188" id="NetworkManager" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="855.6055" x="5941.58" y="4426.2832"/><ellipse cx="6260.6777" cy="4456.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M6263.4902,4448.4082 Q6263.7402,4448.0645 6264.0527,4447.9082 Q6264.3652,4447.7207 6264.7089,4447.7207 Q6265.3339,4447.7207 6265.7089,4448.1582 Q6266.1152,4448.5645 6266.1152,4449.5645 L6266.1152,4451.9395 Q6266.1152,4452.9707 6265.7089,4453.4082 Q6265.3339,4453.8145 6264.7089,4453.8145 Q6264.1464,4453.8145 6263.8027,4453.502 Q6263.4589,4453.1895 6263.3027,4452.3457 Q6263.2089,4451.752 6262.9277,4451.4395 Q6262.3652,4450.8145 6261.3339,4450.4707 Q6260.3339,4450.0957 6259.3339,4450.0957 Q6258.0839,4450.0957 6257.0214,4450.6582 Q6255.9589,4451.1895 6255.1464,4452.4395 Q6254.3652,4453.6582 6254.3652,4455.3457 L6254.3652,4457.1582 Q6254.3652,4459.1895 6255.8339,4460.5332 Q6257.3027,4461.877 6259.8964,4461.877 Q6261.4589,4461.877 6262.5527,4461.4707 Q6263.1777,4461.2207 6263.8964,4460.502 Q6264.3339,4460.0645 6264.5527,4459.9395 Q6264.8027,4459.7832 6265.1152,4459.7832 Q6265.6777,4459.7832 6266.1152,4460.2207 Q6266.5527,4460.6582 6266.5527,4461.2207 Q6266.5527,4461.7832 6265.9589,4462.4395 Q6265.1152,4463.4082 6263.8027,4463.9395 Q6262.0527,4464.6895 6259.9277,4464.6895 Q6257.4277,4464.6895 6255.4277,4463.6582 Q6253.8339,4462.8457 6252.6777,4461.0957 Q6251.5527,4459.3145 6251.5527,4457.2207 L6251.5527,4455.3145 Q6251.5527,4453.127 6252.5527,4451.252 Q6253.5839,4449.3457 6255.3964,4448.3145 Q6257.2089,4447.2832 6259.2089,4447.2832 Q6260.4277,4447.2832 6261.4902,4447.5645 Q6262.5527,4447.8457 6263.4902,4448.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="201.4102" x="6298.6777" y="4465.8398">NetworkManager</text><line style="stroke:#000000;stroke-width:1.0;" x1="5943.58" x2="6795.1855" y1="4486.2832" y2="4486.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="5957.58" y="4505.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="318.8672" x="5979.58" y="4519.6777">port_listening: ServerSocket</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="5957.58" y="4536.7969"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="271.5469" x="5979.58" y="4551.3535">socket_to_client: Socket</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="5957.58" y="4568.4727"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="278.6602" x="5979.58" y="4583.0293">socket_to_server: Socket</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="5957.58" y="4600.1484"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="257.3086" x="5979.58" y="4614.7051">textIn: BufferedReader</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="5957.58" y="4631.8242"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="225.4922" x="5979.58" y="4646.3809">textOut: PrintWriter</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="5957.58" y="4663.5"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="287.5547" x="5979.58" y="4678.0566">fileIn: ObjectInputStream</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="5957.58" y="4695.1758"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="330.4453" x="5979.58" y="4709.7324">fileOut: ObjectOutputStream</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="5957.58" y="4726.8516"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="91.6875" x="5979.58" y="4741.4082">port: int</text><line style="stroke:#000000;stroke-width:1.0;" x1="5943.58" x2="6795.1855" y1="4755.6895" y2="4755.6895"/><ellipse cx="5965.58" cy="4782.5273" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="309.1289" x="5979.58" y="4789.084">NetworkManager(port: int)</text><ellipse cx="5965.58" cy="4814.2031" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="335.3555" x="5979.58" y="4820.7598">startServer(timeout: int): void</text><ellipse cx="5965.58" cy="4845.8789" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="295.1367" x="5979.58" y="4852.4355">waitForConnection(): void</text><ellipse cx="5965.58" cy="4877.5547" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="805.6055" x="5979.58" y="4884.1113">connectToServer(opposite_UserIP: String, opposite_UserPort: int): void</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="5957.58" y="4901.2305"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="371.1211" x="5979.58" y="4915.7871">initStreams(socket: Socket): void</text><ellipse cx="5965.58" cy="4940.9063" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="465.293" x="5979.58" y="4947.4629">sendTextMessage(message: String): void</text><ellipse cx="5965.58" cy="4972.582" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="328.4297" x="5979.58" y="4979.1387">receiveTextMessage(): String</text><ellipse cx="5965.58" cy="5004.2578" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="544.6172" x="5979.58" y="5010.8145">sendHandshakeMessage(message: String): void</text><ellipse cx="5965.58" cy="5035.9336" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="407.7539" x="5979.58" y="5042.4902">receiveHandshakeMessage(): String</text><ellipse cx="5965.58" cy="5067.6094" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="295.9922" x="5979.58" y="5074.166">sendFile(file: Object): void</text><ellipse cx="5965.58" cy="5099.2852" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="224.9766" x="5979.58" y="5105.8418">receiveFile(): Object</text><ellipse cx="5965.58" cy="5130.9609" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="268.8281" x="5979.58" y="5137.5176">closeConnection(): void</text><ellipse cx="5965.58" cy="5162.6367" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="264.7617" x="5979.58" y="5169.1934">isConnected(): boolean</text><ellipse cx="5965.58" cy="5194.3125" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="348.3164" x="5979.58" y="5200.8691">getConnectedClientIp(): String</text><ellipse cx="5965.58" cy="5225.9883" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="335.6133" x="5979.58" y="5232.5449">getConnectedClientPort(): int</text><ellipse cx="5965.58" cy="5257.6641" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="192.4688" x="5979.58" y="5264.2207">shutdown(): void</text></g><!--class ChatRepository--><g id="elem_ChatRepository"><rect codeLine="166" fill="#FFFFFF" height="377.082" id="ChatRepository" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="728.9727" x="1563.58" y="4663.2832"/><ellipse cx="1831.83" cy="4693.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M1834.6425,4685.4082 Q1834.8925,4685.0645 1835.205,4684.9082 Q1835.5175,4684.7207 1835.8613,4684.7207 Q1836.4863,4684.7207 1836.8613,4685.1582 Q1837.2675,4685.5645 1837.2675,4686.5645 L1837.2675,4688.9395 Q1837.2675,4689.9707 1836.8613,4690.4082 Q1836.4863,4690.8145 1835.8613,4690.8145 Q1835.2988,4690.8145 1834.955,4690.502 Q1834.6113,4690.1895 1834.455,4689.3457 Q1834.3613,4688.752 1834.08,4688.4395 Q1833.5175,4687.8145 1832.4863,4687.4707 Q1831.4863,4687.0957 1830.4863,4687.0957 Q1829.2363,4687.0957 1828.1738,4687.6582 Q1827.1113,4688.1895 1826.2988,4689.4395 Q1825.5175,4690.6582 1825.5175,4692.3457 L1825.5175,4694.1582 Q1825.5175,4696.1895 1826.9863,4697.5332 Q1828.455,4698.877 1831.0488,4698.877 Q1832.6113,4698.877 1833.705,4698.4707 Q1834.33,4698.2207 1835.0488,4697.502 Q1835.4863,4697.0645 1835.705,4696.9395 Q1835.955,4696.7832 1836.2675,4696.7832 Q1836.83,4696.7832 1837.2675,4697.2207 Q1837.705,4697.6582 1837.705,4698.2207 Q1837.705,4698.7832 1837.1113,4699.4395 Q1836.2675,4700.4082 1834.955,4700.9395 Q1833.205,4701.6895 1831.08,4701.6895 Q1828.58,4701.6895 1826.58,4700.6582 Q1824.9863,4699.8457 1823.83,4698.0957 Q1822.705,4696.3145 1822.705,4694.2207 L1822.705,4692.3145 Q1822.705,4690.127 1823.705,4688.252 Q1824.7363,4686.3457 1826.5488,4685.3145 Q1828.3613,4684.2832 1830.3613,4684.2832 Q1831.58,4684.2832 1832.6425,4684.5645 Q1833.705,4684.8457 1834.6425,4685.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="176.4727" x="1869.83" y="4702.8398">ChatRepository</text><line style="stroke:#000000;stroke-width:1.0;" x1="1565.58" x2="2290.5527" y1="4723.2832" y2="4723.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="1579.58" y="4742.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="177.2813" x="1601.58" y="4756.6777">sql_path: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="1579.58" y="4773.7969"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="272.6953" x="1601.58" y="4788.3535">connection: Connection</text><line style="stroke:#000000;stroke-width:1.0;" x1="1565.58" x2="2290.5527" y1="4802.6348" y2="4802.6348"/><ellipse cx="1587.58" cy="4829.4727" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="369.7852" x="1601.58" y="4836.0293">ChatRepository(sql_path: String)</text><ellipse cx="1587.58" cy="4861.1484" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="222.082" x="1601.58" y="4867.7051">initDatabase(): void</text><ellipse cx="1587.58" cy="4892.8242" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="268.8281" x="1601.58" y="4899.3809">closeConnection(): void</text><ellipse cx="1587.58" cy="4924.5" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="294.2695" x="1601.58" y="4931.0566">saveUser(user: User): void</text><ellipse cx="1587.58" cy="4956.1758" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="445.5703" x="1601.58" y="4962.7324">saveMessage(message: Message): void</text><ellipse cx="1587.58" cy="4987.8516" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="678.9727" x="1601.58" y="4994.4082">getChatHistory(user1: String, user2: String): List&lt;Message&gt;</text><ellipse cx="1587.58" cy="5019.5273" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="569.25" x="1601.58" y="5026.084">clearChatHistory(user1: String, user2: String): void</text></g><!--class MessageService--><g id="elem_MessageService"><rect codeLine="180" fill="#FFFFFF" height="408.7578" id="MessageService" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="1887.1133" x="7255.58" y="3812.2832"/><ellipse cx="8099.7421" cy="3842.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M8102.5546,3834.4082 Q8102.8046,3834.0645 8103.1171,3833.9082 Q8103.4296,3833.7207 8103.7734,3833.7207 Q8104.3984,3833.7207 8104.7734,3834.1582 Q8105.1796,3834.5645 8105.1796,3835.5645 L8105.1796,3837.9395 Q8105.1796,3838.9707 8104.7734,3839.4082 Q8104.3984,3839.8145 8103.7734,3839.8145 Q8103.2109,3839.8145 8102.8671,3839.502 Q8102.5234,3839.1895 8102.3671,3838.3457 Q8102.2734,3837.752 8101.9921,3837.4395 Q8101.4296,3836.8145 8100.3984,3836.4707 Q8099.3984,3836.0957 8098.3984,3836.0957 Q8097.1484,3836.0957 8096.0859,3836.6582 Q8095.0234,3837.1895 8094.2109,3838.4395 Q8093.4296,3839.6582 8093.4296,3841.3457 L8093.4296,3843.1582 Q8093.4296,3845.1895 8094.8984,3846.5332 Q8096.3671,3847.877 8098.9609,3847.877 Q8100.5234,3847.877 8101.6171,3847.4707 Q8102.2421,3847.2207 8102.9609,3846.502 Q8103.3984,3846.0645 8103.6171,3845.9395 Q8103.8671,3845.7832 8104.1796,3845.7832 Q8104.7421,3845.7832 8105.1796,3846.2207 Q8105.6171,3846.6582 8105.6171,3847.2207 Q8105.6171,3847.7832 8105.0234,3848.4395 Q8104.1796,3849.4082 8102.8671,3849.9395 Q8101.1171,3850.6895 8098.9921,3850.6895 Q8096.4921,3850.6895 8094.4921,3849.6582 Q8092.8984,3848.8457 8091.7421,3847.0957 Q8090.6171,3845.3145 8090.6171,3843.2207 L8090.6171,3841.3145 Q8090.6171,3839.127 8091.6171,3837.252 Q8092.6484,3835.3457 8094.4609,3834.3145 Q8096.2734,3833.2832 8098.2734,3833.2832 Q8099.4921,3833.2832 8100.5546,3833.5645 Q8101.6171,3833.8457 8102.5546,3834.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="182.7891" x="8137.7421" y="3851.8398">MessageService</text><line style="stroke:#000000;stroke-width:1.0;" x1="7257.58" x2="9140.6933" y1="3872.2832" y2="3872.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="7271.58" y="3891.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="410.9766" x="7293.58" y="3905.6777">networkManager: NetworkManager</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="7271.58" y="3922.7969"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="322.9336" x="7293.58" y="3937.3535">dbManager: ChatRepository</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="7271.58" y="3954.4727"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="250.6641" x="7293.58" y="3969.0293">localUsername: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="7271.58" y="3986.1484"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="309.3164" x="7293.58" y="4000.7051">opposite_Username: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="7271.58" y="4017.8242"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="397.2305" x="7293.58" y="4032.3809">messageHandler: MessageHandler</text><line style="stroke:#000000;stroke-width:1.0;" x1="7257.58" x2="9140.6933" y1="4046.6621" y2="4046.6621"/><ellipse cx="7279.58" cy="4073.5" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="1837.1133" x="7293.58" y="4080.0566">MessageService(networkManager: NetworkManager, dbManager: ChatRepository, localUsername: String, opposite_Username: String, handler: MessageHandler)</text><ellipse cx="7279.58" cy="4105.1758" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="465.293" x="7293.58" y="4111.7324">sendTextMessage(message: String): void</text><ellipse cx="7279.58" cy="4136.8516" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="377.8594" x="7293.58" y="4143.4082">getChatHistory(): List&lt;Message&gt;</text><ellipse cx="7279.58" cy="4168.5273" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="268.1367" x="7293.58" y="4175.084">clearChatHistory(): void</text><polygon fill="#FFFF44" points="7279.58,4188.2031,7289.58,4198.2031,7279.58,4208.2031,7269.58,4198.2031" style="stroke:#B38D22;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="124.8867" x="7293.58" y="4206.7598">task(): void</text></g><!--class BackgroundService--><g id="elem_BackgroundService"><rect fill="#FFFFFF" height="92" id="BackgroundService" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="279.3984" x="8863.58" y="3386.2832"/><ellipse cx="8891.58" cy="3416.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M8894.3925,3408.4082 Q8894.6425,3408.0645 8894.955,3407.9082 Q8895.2675,3407.7207 8895.6113,3407.7207 Q8896.2363,3407.7207 8896.6113,3408.1582 Q8897.0175,3408.5645 8897.0175,3409.5645 L8897.0175,3411.9395 Q8897.0175,3412.9707 8896.6113,3413.4082 Q8896.2363,3413.8145 8895.6113,3413.8145 Q8895.0488,3413.8145 8894.705,3413.502 Q8894.3613,3413.1895 8894.205,3412.3457 Q8894.1113,3411.752 8893.83,3411.4395 Q8893.2675,3410.8145 8892.2363,3410.4707 Q8891.2363,3410.0957 8890.2363,3410.0957 Q8888.9863,3410.0957 8887.9238,3410.6582 Q8886.8613,3411.1895 8886.0488,3412.4395 Q8885.2675,3413.6582 8885.2675,3415.3457 L8885.2675,3417.1582 Q8885.2675,3419.1895 8886.7363,3420.5332 Q8888.205,3421.877 8890.7988,3421.877 Q8892.3613,3421.877 8893.455,3421.4707 Q8894.08,3421.2207 8894.7988,3420.502 Q8895.2363,3420.0645 8895.455,3419.9395 Q8895.705,3419.7832 8896.0175,3419.7832 Q8896.58,3419.7832 8897.0175,3420.2207 Q8897.455,3420.6582 8897.455,3421.2207 Q8897.455,3421.7832 8896.8613,3422.4395 Q8896.0175,3423.4082 8894.705,3423.9395 Q8892.955,3424.6895 8890.83,3424.6895 Q8888.33,3424.6895 8886.33,3423.6582 Q8884.7363,3422.8457 8883.58,3421.0957 Q8882.455,3419.3145 8882.455,3417.2207 L8882.455,3415.3145 Q8882.455,3413.127 8883.455,3411.252 Q8884.4863,3409.3457 8886.2988,3408.3145 Q8888.1113,3407.2832 8890.1113,3407.2832 Q8891.33,3407.2832 8892.3925,3407.5645 Q8893.455,3407.8457 8894.3925,3408.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="219.3984" x="8917.58" y="3425.8398">BackgroundService</text><line style="stroke:#000000;stroke-width:1.0;" x1="8865.58" x2="9140.9784" y1="3446.2832" y2="3446.2832"/><line style="stroke:#000000;stroke-width:1.0;" x1="8865.58" x2="9140.9784" y1="3462.2832" y2="3462.2832"/></g><!--class MessageHandler--><g id="elem_MessageHandler"><rect codeLine="193" fill="#FFFFFF" height="155.3516" id="MessageHandler" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="490.1328" x="7954.58" y="4774.2832"/><ellipse cx="8000.856" cy="4804.2832" fill="#B4A7E5" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M8002.6685,4798.502 L8002.6685,4809.4707 L8005.481,4809.4707 Q8006.5122,4809.4707 8006.9185,4809.877 Q8007.356,4810.252 8007.356,4810.877 Q8007.356,4811.502 8006.9185,4811.9082 Q8006.5122,4812.2832 8005.481,4812.2832 L7997.0122,4812.2832 Q7996.0122,4812.2832 7995.5747,4811.9082 Q7995.1685,4811.502 7995.1685,4810.877 Q7995.1685,4810.252 7995.5747,4809.877 Q7996.0122,4809.4707 7997.0122,4809.4707 L7999.856,4809.4707 L7999.856,4798.502 L7997.0122,4798.502 Q7996.0122,4798.502 7995.5747,4798.127 Q7995.1685,4797.7207 7995.1685,4797.0957 Q7995.1685,4796.4707 7995.5747,4796.0957 Q7996.0122,4795.6895 7997.0122,4795.6895 L8005.481,4795.7207 Q8006.5122,4795.7207 8006.9185,4796.0957 Q8007.356,4796.4707 8007.356,4797.0957 Q8007.356,4797.7207 8006.9185,4798.127 Q8006.5122,4798.502 8005.481,4798.502 L8002.6685,4798.502 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" font-style="italic" lengthAdjust="spacing" textLength="389.5195" x="8030.9173" y="4813.8398">MessageService$MessageHandler</text><line style="stroke:#000000;stroke-width:1.0;" x1="7956.58" x2="8442.7128" y1="4834.2832" y2="4834.2832"/><line style="stroke:#000000;stroke-width:1.0;" x1="7956.58" x2="8442.7128" y1="4850.2832" y2="4850.2832"/><ellipse cx="7978.58" cy="4877.1211" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="440.1328" x="7992.58" y="4883.6777">handleMessage(message: String): void</text><ellipse cx="7978.58" cy="4908.7969" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="394.5586" x="7992.58" y="4915.3535">handleError(message: String): void</text></g><!--class FileTransferService--><g id="elem_FileTransferService"><rect codeLine="200" fill="#FFFFFF" height="440.4336" id="FileTransferService" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="1884.0781" x="6909.58" y="3212.2832"/><ellipse cx="7736.8202" cy="3242.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M7739.6327,3234.4082 Q7739.8827,3234.0645 7740.1952,3233.9082 Q7740.5077,3233.7207 7740.8515,3233.7207 Q7741.4765,3233.7207 7741.8515,3234.1582 Q7742.2577,3234.5645 7742.2577,3235.5645 L7742.2577,3237.9395 Q7742.2577,3238.9707 7741.8515,3239.4082 Q7741.4765,3239.8145 7740.8515,3239.8145 Q7740.289,3239.8145 7739.9452,3239.502 Q7739.6015,3239.1895 7739.4452,3238.3457 Q7739.3515,3237.752 7739.0702,3237.4395 Q7738.5077,3236.8145 7737.4765,3236.4707 Q7736.4765,3236.0957 7735.4765,3236.0957 Q7734.2265,3236.0957 7733.164,3236.6582 Q7732.1015,3237.1895 7731.289,3238.4395 Q7730.5077,3239.6582 7730.5077,3241.3457 L7730.5077,3243.1582 Q7730.5077,3245.1895 7731.9765,3246.5332 Q7733.4452,3247.877 7736.039,3247.877 Q7737.6015,3247.877 7738.6952,3247.4707 Q7739.3202,3247.2207 7740.039,3246.502 Q7740.4765,3246.0645 7740.6952,3245.9395 Q7740.9452,3245.7832 7741.2577,3245.7832 Q7741.8202,3245.7832 7742.2577,3246.2207 Q7742.6952,3246.6582 7742.6952,3247.2207 Q7742.6952,3247.7832 7742.1015,3248.4395 Q7741.2577,3249.4082 7739.9452,3249.9395 Q7738.1952,3250.6895 7736.0702,3250.6895 Q7733.5702,3250.6895 7731.5702,3249.6582 Q7729.9765,3248.8457 7728.8202,3247.0957 Q7727.6952,3245.3145 7727.6952,3243.2207 L7727.6952,3241.3145 Q7727.6952,3239.127 7728.6952,3237.252 Q7729.7265,3235.3457 7731.539,3234.3145 Q7733.3515,3233.2832 7735.3515,3233.2832 Q7736.5702,3233.2832 7737.6327,3233.5645 Q7738.6952,3233.8457 7739.6327,3234.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="213.5977" x="7774.8202" y="3251.8398">FileTransferService</text><line style="stroke:#000000;stroke-width:1.0;" x1="6911.58" x2="8791.6581" y1="3272.2832" y2="3272.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6925.58" y="3291.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="236.2969" x="6947.58" y="3305.6777">MAX_FILE_SIZE: long</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6925.58" y="3322.7969"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="410.9766" x="6947.58" y="3337.3535">networkManager: NetworkManager</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6925.58" y="3354.4727"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="322.9336" x="6947.58" y="3369.0293">dbManager: ChatRepository</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6925.58" y="3386.1484"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="250.6641" x="6947.58" y="3400.7051">localUsername: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6925.58" y="3417.8242"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="309.3164" x="6947.58" y="3432.3809">opposite_Username: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6925.58" y="3449.5"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="259.043" x="6947.58" y="3464.0566">download_path: String</text><line style="stroke:#000000;stroke-width:1.0;" x1="6911.58" x2="8791.6581" y1="3478.3379" y2="3478.3379"/><ellipse cx="6933.58" cy="3505.1758" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="1834.0781" x="6947.58" y="3511.7324">FileTransferService(networkManager: NetworkManager, dbManager: ChatRepository, localUsername: String, opposite_Username: String, download_path: String)</text><ellipse cx="6933.58" cy="3536.8516" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="340.2539" x="6947.58" y="3543.4082">sendFile(filePath: String): void</text><rect fill="#F24D5C" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6925.58" y="3560.5273"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="355.4063" x="6947.58" y="3575.084">createFileInfo(file: File): FileInfo</text><ellipse cx="6933.58" cy="3600.2031" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="217.5703" x="6947.58" y="3606.7598">receiveFile(): String</text><ellipse cx="6933.58" cy="3631.8789" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" text-decoration="underline" textLength="462.8906" x="6947.58" y="3638.4355">isFileMessage(message: String): boolean</text></g><!--class User--><g id="elem_User"><rect codeLine="216" fill="#FFFFFF" height="408.7578" id="User" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="625.1563" x="6050.58" y="5678.2832"/><ellipse cx="6329.2538" cy="5708.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M6332.0663,5700.4082 Q6332.3163,5700.0645 6332.6288,5699.9082 Q6332.9413,5699.7207 6333.2851,5699.7207 Q6333.9101,5699.7207 6334.2851,5700.1582 Q6334.6913,5700.5645 6334.6913,5701.5645 L6334.6913,5703.9395 Q6334.6913,5704.9707 6334.2851,5705.4082 Q6333.9101,5705.8145 6333.2851,5705.8145 Q6332.7226,5705.8145 6332.3788,5705.502 Q6332.0351,5705.1895 6331.8788,5704.3457 Q6331.7851,5703.752 6331.5038,5703.4395 Q6330.9413,5702.8145 6329.9101,5702.4707 Q6328.9101,5702.0957 6327.9101,5702.0957 Q6326.6601,5702.0957 6325.5976,5702.6582 Q6324.5351,5703.1895 6323.7226,5704.4395 Q6322.9413,5705.6582 6322.9413,5707.3457 L6322.9413,5709.1582 Q6322.9413,5711.1895 6324.4101,5712.5332 Q6325.8788,5713.877 6328.4726,5713.877 Q6330.0351,5713.877 6331.1288,5713.4707 Q6331.7538,5713.2207 6332.4726,5712.502 Q6332.9101,5712.0645 6333.1288,5711.9395 Q6333.3788,5711.7832 6333.6913,5711.7832 Q6334.2538,5711.7832 6334.6913,5712.2207 Q6335.1288,5712.6582 6335.1288,5713.2207 Q6335.1288,5713.7832 6334.5351,5714.4395 Q6333.6913,5715.4082 6332.3788,5715.9395 Q6330.6288,5716.6895 6328.5038,5716.6895 Q6326.0038,5716.6895 6324.0038,5715.6582 Q6322.4101,5714.8457 6321.2538,5713.0957 Q6320.1288,5711.3145 6320.1288,5709.2207 L6320.1288,5707.3145 Q6320.1288,5705.127 6321.1288,5703.252 Q6322.1601,5701.3457 6323.9726,5700.3145 Q6325.7851,5699.2832 6327.7851,5699.2832 Q6329.0038,5699.2832 6330.0663,5699.5645 Q6331.1288,5699.8457 6332.0663,5700.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="51.8086" x="6367.2538" y="5717.8398">User</text><line style="stroke:#000000;stroke-width:1.0;" x1="6052.58" x2="6673.7363" y1="5738.2832" y2="5738.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6066.58" y="5757.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="194.2031" x="6088.58" y="5771.6777">username: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6066.58" y="5788.7969"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="195.668" x="6088.58" y="5803.3535">ipAddress: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6066.58" y="5820.4727"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="91.6875" x="6088.58" y="5835.0293">port: int</text><line style="stroke:#000000;stroke-width:1.0;" x1="6052.58" x2="6673.7363" y1="5849.3105" y2="5849.3105"/><ellipse cx="6074.58" cy="5876.1484" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="575.1563" x="6088.58" y="5882.7051">User(username: String, ipAddress: String, port: int)</text><ellipse cx="6074.58" cy="5907.8242" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="251.2734" x="6088.58" y="5914.3809">getUsername(): String</text><ellipse cx="6074.58" cy="5939.5" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="422.3438" x="6088.58" y="5946.0566">setUsername(username: String): void</text><ellipse cx="6074.58" cy="5971.1758" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="250.2773" x="6088.58" y="5977.7324">getIpAddress(): String</text><ellipse cx="6074.58" cy="6002.8516" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="422.8125" x="6088.58" y="6009.4082">setIpAddress(ipAddress: String): void</text><ellipse cx="6074.58" cy="6034.5273" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="144.9844" x="6088.58" y="6041.084">getPort(): int</text><ellipse cx="6074.58" cy="6066.2031" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="251.9063" x="6088.58" y="6072.7598">setPort(port: int): void</text></g><!--class Message--><g id="elem_Message"><rect codeLine="229" fill="#FFFFFF" height="788.8672" id="Message" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="874.2383" x="6746.58" y="5488.2832"/><ellipse cx="7124.9394" cy="5518.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M7127.7519,5510.4082 Q7128.0019,5510.0645 7128.3144,5509.9082 Q7128.6269,5509.7207 7128.9706,5509.7207 Q7129.5956,5509.7207 7129.9706,5510.1582 Q7130.3769,5510.5645 7130.3769,5511.5645 L7130.3769,5513.9395 Q7130.3769,5514.9707 7129.9706,5515.4082 Q7129.5956,5515.8145 7128.9706,5515.8145 Q7128.4081,5515.8145 7128.0644,5515.502 Q7127.7206,5515.1895 7127.5644,5514.3457 Q7127.4706,5513.752 7127.1894,5513.4395 Q7126.6269,5512.8145 7125.5956,5512.4707 Q7124.5956,5512.0957 7123.5956,5512.0957 Q7122.3456,5512.0957 7121.2831,5512.6582 Q7120.2206,5513.1895 7119.4081,5514.4395 Q7118.6269,5515.6582 7118.6269,5517.3457 L7118.6269,5519.1582 Q7118.6269,5521.1895 7120.0956,5522.5332 Q7121.5644,5523.877 7124.1581,5523.877 Q7125.7206,5523.877 7126.8144,5523.4707 Q7127.4394,5523.2207 7128.1581,5522.502 Q7128.5956,5522.0645 7128.8144,5521.9395 Q7129.0644,5521.7832 7129.3769,5521.7832 Q7129.9394,5521.7832 7130.3769,5522.2207 Q7130.8144,5522.6582 7130.8144,5523.2207 Q7130.8144,5523.7832 7130.2206,5524.4395 Q7129.3769,5525.4082 7128.0644,5525.9395 Q7126.3144,5526.6895 7124.1894,5526.6895 Q7121.6894,5526.6895 7119.6894,5525.6582 Q7118.0956,5524.8457 7116.9394,5523.0957 Q7115.8144,5521.3145 7115.8144,5519.2207 L7115.8144,5517.3145 Q7115.8144,5515.127 7116.8144,5513.252 Q7117.8456,5511.3457 7119.6581,5510.3145 Q7121.4706,5509.2832 7123.4706,5509.2832 Q7124.6894,5509.2832 7125.7519,5509.5645 Q7126.8144,5509.8457 7127.7519,5510.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="101.5195" x="7162.9394" y="5527.8398">Message</text><line style="stroke:#000000;stroke-width:1.0;" x1="6748.58" x2="7618.8183" y1="5548.2832" y2="5548.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6762.58" y="5567.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="159.0117" x="6784.58" y="5581.6777">sender: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6762.58" y="5598.7969"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="171.5625" x="6784.58" y="5613.3535">receiver: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6762.58" y="5630.4727"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="169.7344" x="6784.58" y="5645.0293">content: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6762.58" y="5662.1484"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="131.9531" x="6784.58" y="5676.7051">type: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6762.58" y="5693.8242"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="167.7422" x="6784.58" y="5708.3809">filePath: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="6762.58" y="5725.5"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="187.2305" x="6784.58" y="5740.0566">timestamp: long</text><line style="stroke:#000000;stroke-width:1.0;" x1="6748.58" x2="7618.8183" y1="5754.3379" y2="5754.3379"/><ellipse cx="6770.58" cy="5781.1758" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="117.5508" x="6784.58" y="5787.7324">Message()</text><ellipse cx="6770.58" cy="5812.8516" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="643.6172" x="6784.58" y="5819.4082">Message(sender: String, receiver: String, content: String)</text><ellipse cx="6770.58" cy="5844.5273" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="824.2383" x="6784.58" y="5851.084">Message(sender: String, receiver: String, content: String, filePath: String)</text><ellipse cx="6770.58" cy="5876.2031" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="215.6953" x="6784.58" y="5882.7598">getSender(): String</text><ellipse cx="6770.58" cy="5907.8789" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="351.5742" x="6784.58" y="5914.4355">setSender(sender: String): void</text><ellipse cx="6770.58" cy="5939.5547" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="232.0078" x="6784.58" y="5946.1113">getReceiver(): String</text><ellipse cx="6770.58" cy="5971.2305" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="380.4375" x="6784.58" y="5977.7871">setReceiver(receiver: String): void</text><ellipse cx="6770.58" cy="6002.9063" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="227.6953" x="6784.58" y="6009.4629">getContent(): String</text><ellipse cx="6770.58" cy="6034.582" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="374.2969" x="6784.58" y="6041.1387">setContent(content: String): void</text><ellipse cx="6770.58" cy="6066.2578" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="190.7109" x="6784.58" y="6072.8145">getType(): String</text><ellipse cx="6770.58" cy="6097.9336" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="299.5313" x="6784.58" y="6104.4902">setType(type: String): void</text><ellipse cx="6770.58" cy="6129.6094" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="226.1133" x="6784.58" y="6136.166">getFilePath(): String</text><ellipse cx="6770.58" cy="6161.2852" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="370.7227" x="6784.58" y="6167.8418">setFilePath(filePath: String): void</text><ellipse cx="6770.58" cy="6192.9609" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="245.9883" x="6784.58" y="6199.5176">getTimestamp(): long</text><ellipse cx="6770.58" cy="6224.6367" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="426.7852" x="6784.58" y="6231.1934">setTimestamp(timestamp: long): void</text><ellipse cx="6770.58" cy="6256.3125" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="190.0781" x="6784.58" y="6262.8691">toString(): String</text></g><!--class FileInfo--><g id="elem_FileInfo"><rect codeLine="254" fill="#FFFFFF" height="440.4336" id="FileInfo" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="1030.6367" x="7690.58" y="5662.2832"/><ellipse cx="8155.6171" cy="5692.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M8158.4296,5684.4082 Q8158.6796,5684.0645 8158.9921,5683.9082 Q8159.3046,5683.7207 8159.6484,5683.7207 Q8160.2734,5683.7207 8160.6484,5684.1582 Q8161.0546,5684.5645 8161.0546,5685.5645 L8161.0546,5687.9395 Q8161.0546,5688.9707 8160.6484,5689.4082 Q8160.2734,5689.8145 8159.6484,5689.8145 Q8159.0859,5689.8145 8158.7421,5689.502 Q8158.3984,5689.1895 8158.2421,5688.3457 Q8158.1484,5687.752 8157.8671,5687.4395 Q8157.3046,5686.8145 8156.2734,5686.4707 Q8155.2734,5686.0957 8154.2734,5686.0957 Q8153.0234,5686.0957 8151.9609,5686.6582 Q8150.8984,5687.1895 8150.0859,5688.4395 Q8149.3046,5689.6582 8149.3046,5691.3457 L8149.3046,5693.1582 Q8149.3046,5695.1895 8150.7734,5696.5332 Q8152.2421,5697.877 8154.8359,5697.877 Q8156.3984,5697.877 8157.4921,5697.4707 Q8158.1171,5697.2207 8158.8359,5696.502 Q8159.2734,5696.0645 8159.4921,5695.9395 Q8159.7421,5695.7832 8160.0546,5695.7832 Q8160.6171,5695.7832 8161.0546,5696.2207 Q8161.4921,5696.6582 8161.4921,5697.2207 Q8161.4921,5697.7832 8160.8984,5698.4395 Q8160.0546,5699.4082 8158.7421,5699.9395 Q8156.9921,5700.6895 8154.8671,5700.6895 Q8152.3671,5700.6895 8150.3671,5699.6582 Q8148.7734,5698.8457 8147.6171,5697.0957 Q8146.4921,5695.3145 8146.4921,5693.2207 L8146.4921,5691.3145 Q8146.4921,5689.127 8147.4921,5687.252 Q8148.5234,5685.3457 8150.3359,5684.3145 Q8152.1484,5683.2832 8154.1484,5683.2832 Q8155.3671,5683.2832 8156.4296,5683.5645 Q8157.4921,5683.8457 8158.4296,5684.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="84.5625" x="8193.6171" y="5701.8398">FileInfo</text><line style="stroke:#000000;stroke-width:1.0;" x1="7692.58" x2="8719.2167" y1="5722.2832" y2="5722.2832"/><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="7706.58" y="5741.1211"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="184.957" x="7728.58" y="5755.6777">fileName: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="7706.58" y="5772.7969"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="145.0313" x="7728.58" y="5787.3535">fileSize: long</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="7706.58" y="5804.4727"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="167.9648" x="7728.58" y="5819.0293">fileData: byte[]</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="7706.58" y="5836.1484"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="159.0117" x="7728.58" y="5850.7051">sender: String</text><rect fill="none" height="16" style="stroke:#C82930;stroke-width:2.0;" width="16" x="7706.58" y="5867.8242"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="171.5625" x="7728.58" y="5882.3809">receiver: String</text><line style="stroke:#000000;stroke-width:1.0;" x1="7692.58" x2="8719.2167" y1="5896.6621" y2="5896.6621"/><ellipse cx="7714.58" cy="5923.5" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="980.6367" x="7728.58" y="5930.0566">FileInfo(fileName: String, fileSize: long, fileData: byte[], sender: String, receiver: String)</text><ellipse cx="7714.58" cy="5955.1758" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="243.3281" x="7728.58" y="5961.7324">getFileName(): String</text><ellipse cx="7714.58" cy="5986.8516" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="203.4023" x="7728.58" y="5993.4082">getFileSize(): long</text><ellipse cx="7714.58" cy="6018.5273" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="226.3359" x="7728.58" y="6025.084">getFileData(): byte[]</text><ellipse cx="7714.58" cy="6050.2031" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="215.6953" x="7728.58" y="6056.7598">getSender(): String</text><ellipse cx="7714.58" cy="6081.8789" fill="#84BE84" rx="8" ry="8" style="stroke:#038048;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="232.0078" x="7728.58" y="6088.4355">getReceiver(): String</text></g><!--class BackgroundService--><g id="elem_BackgroundService"><rect fill="#FFFFFF" height="92" id="BackgroundService" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="279.3984" x="9899.58" y="4806.2832"/><ellipse cx="9927.58" cy="4836.2832" fill="#ADD1B2" rx="20" ry="20" style="stroke:#181818;stroke-width:2.0;"/><path d="M9930.3925,4828.4082 Q9930.6425,4828.0645 9930.955,4827.9082 Q9931.2675,4827.7207 9931.6113,4827.7207 Q9932.2363,4827.7207 9932.6113,4828.1582 Q9933.0175,4828.5645 9933.0175,4829.5645 L9933.0175,4831.9395 Q9933.0175,4832.9707 9932.6113,4833.4082 Q9932.2363,4833.8145 9931.6113,4833.8145 Q9931.0488,4833.8145 9930.705,4833.502 Q9930.3613,4833.1895 9930.205,4832.3457 Q9930.1113,4831.752 9929.83,4831.4395 Q9929.2675,4830.8145 9928.2363,4830.4707 Q9927.2363,4830.0957 9926.2363,4830.0957 Q9924.9863,4830.0957 9923.9238,4830.6582 Q9922.8613,4831.1895 9922.0488,4832.4395 Q9921.2675,4833.6582 9921.2675,4835.3457 L9921.2675,4837.1582 Q9921.2675,4839.1895 9922.7363,4840.5332 Q9924.205,4841.877 9926.7988,4841.877 Q9928.3613,4841.877 9929.455,4841.4707 Q9930.08,4841.2207 9930.7988,4840.502 Q9931.2363,4840.0645 9931.455,4839.9395 Q9931.705,4839.7832 9932.0175,4839.7832 Q9932.58,4839.7832 9933.0175,4840.2207 Q9933.455,4840.6582 9933.455,4841.2207 Q9933.455,4841.7832 9932.8613,4842.4395 Q9932.0175,4843.4082 9930.705,4843.9395 Q9928.955,4844.6895 9926.83,4844.6895 Q9924.33,4844.6895 9922.33,4843.6582 Q9920.7363,4842.8457 9919.58,4841.0957 Q9918.455,4839.3145 9918.455,4837.2207 L9918.455,4835.3145 Q9918.455,4833.127 9919.455,4831.252 Q9920.4863,4829.3457 9922.2988,4828.3145 Q9924.1113,4827.2832 9926.1113,4827.2832 Q9927.33,4827.2832 9928.3925,4827.5645 Q9929.455,4827.8457 9930.3925,4828.4082 Z " fill="#000000"/><text fill="#000000" font-family="Microsoft YaHei" font-size="24" lengthAdjust="spacing" textLength="219.3984" x="9953.58" y="4845.8398">BackgroundService</text><line style="stroke:#000000;stroke-width:1.0;" x1="9901.58" x2="10176.9784" y1="4866.2832" y2="4866.2832"/><line style="stroke:#000000;stroke-width:1.0;" x1="9901.58" x2="10176.9784" y1="4882.2832" y2="4882.2832"/></g><g id="elem_N1"><path d="M9900.58,1251.2832 L9900.58,1288.2383 A10,10 0 0 0 9910.58,1298.2383 L10296.58,1298.2383 A10,10 0 0 0 10306.58,1288.2383 L10306.58,1261.2832 L10286.58,1241.2832 L9916.58,1241.2832 L4901.04,601.0032 L9900.58,1241.2832 L9910.58,1241.2832 A10,10 0 0 0 9900.58,1251.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:1.0;"/><path d="M10286.58,1241.2832 L10286.58,1256.2832 A5,5 0 0 0 10291.58,1261.2832 L10306.58,1261.2832 L10286.58,1241.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="364" x="9912.58" y="1280.9102">&#31243;&#24207;&#20837;&#21475;&#28857;&#65292;&#36127;&#36131;&#21021;&#22987;&#21270;&#29615;&#22659;</text></g><g id="elem_N2"><path d="M10572.58,5864.2832 L10572.58,5901.2383 A10,10 0 0 0 10582.58,5911.2383 L11080.58,5911.2383 A10,10 0 0 0 11090.58,5901.2383 L11090.58,5874.2832 L11070.58,5854.2832 L10582.58,5854.2832 A10,10 0 0 0 10572.58,5864.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:1.0;"/><path d="M11070.58,5854.2832 L11070.58,5869.2832 A5,5 0 0 0 11075.58,5874.2832 L11090.58,5874.2832 L11070.58,5854.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="476" x="10584.58" y="5893.9102">&#25552;&#20379;&#21518;&#21488;&#20219;&#21153;&#30340;&#26694;&#26550;&#65292;&#30001;&#28040;&#24687;&#26381;&#21153;&#32487;&#25215;</text></g><g id="elem_N3"><path d="M9900.58,1898.2832 L9900.58,1935.2383 A10,10 0 0 0 9910.58,1945.2383 L10352.58,1945.2383 A10,10 0 0 0 10362.58,1935.2383 L10362.58,1908.2832 L10342.58,1888.2832 L9910.58,1888.2832 A10,10 0 0 0 9900.58,1898.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:1.0;"/><path d="M10342.58,1888.2832 L10342.58,1903.2832 A5,5 0 0 0 10347.58,1908.2832 L10362.58,1908.2832 L10342.58,1888.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="420" x="9912.58" y="1927.9102">&#21629;&#20196;&#34892;&#25511;&#21046;&#22120;&#65292;&#36127;&#36131;&#20840;&#23616;&#27969;&#31243;&#25511;&#21046;</text></g><g id="elem_N4"><path d="M9900.58,3414.2832 L9900.58,3451.2383 A10,10 0 0 0 9910.58,3461.2383 L10352.58,3461.2383 A10,10 0 0 0 10362.58,3451.2383 L10362.58,3424.2832 L10342.58,3404.2832 L9910.58,3404.2832 A10,10 0 0 0 9900.58,3414.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:1.0;"/><path d="M10342.58,3404.2832 L10342.58,3419.2832 A5,5 0 0 0 10347.58,3424.2832 L10362.58,3424.2832 L10342.58,3404.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="420" x="9912.58" y="3443.9102">&#32842;&#22825;&#20250;&#35805;&#30340;&#26680;&#24515;&#31867;&#65292;&#31649;&#29702;&#32842;&#22825;&#36807;&#31243;</text></g><g id="elem_N5"><path d="M9900.58,5864.2832 L9900.58,5901.2383 A10,10 0 0 0 9910.58,5911.2383 L10492.58,5911.2383 A10,10 0 0 0 10502.58,5901.2383 L10502.58,5874.2832 L10482.58,5854.2832 L9910.58,5854.2832 A10,10 0 0 0 9900.58,5864.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:1.0;"/><path d="M10482.58,5854.2832 L10482.58,5869.2832 A5,5 0 0 0 10487.58,5874.2832 L10502.58,5874.2832 L10482.58,5854.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="560" x="9912.58" y="5893.9102">&#36127;&#36131;&#24213;&#23618;&#32593;&#32476;&#36890;&#20449;&#65292;&#25903;&#25345;&#23458;&#25143;&#31471;&#21644;&#26381;&#21153;&#22120;&#27169;&#24335;</text></g><g id="elem_N6"><path d="M10250.58,4834.2832 L10250.58,4871.2383 A10,10 0 0 0 10260.58,4881.2383 L10702.58,4881.2383 A10,10 0 0 0 10712.58,4871.2383 L10712.58,4844.2832 L10692.58,4824.2832 L10260.58,4824.2832 A10,10 0 0 0 10250.58,4834.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:1.0;"/><path d="M10692.58,4824.2832 L10692.58,4839.2832 A5,5 0 0 0 10697.58,4844.2832 L10712.58,4844.2832 L10692.58,4824.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="420" x="10262.58" y="4863.9102">&#28040;&#24687;&#26381;&#21153;&#31867;&#65292;&#21518;&#21488;&#30417;&#21548;&#24182;&#22788;&#29702;&#28040;&#24687;</text></g><g id="elem_N7"><path d="M10488.58,3998.2832 L10488.58,4035.2383 A10,10 0 0 0 10498.58,4045.2383 L10996.58,4045.2383 A10,10 0 0 0 11006.58,4035.2383 L11006.58,4008.2832 L10986.58,3988.2832 L10498.58,3988.2832 A10,10 0 0 0 10488.58,3998.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:1.0;"/><path d="M10986.58,3988.2832 L10986.58,4003.2832 A5,5 0 0 0 10991.58,4008.2832 L11006.58,4008.2832 L10986.58,3988.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="476" x="10500.58" y="4027.9102">&#25991;&#20214;&#20256;&#36755;&#26381;&#21153;&#65292;&#22788;&#29702;&#25991;&#20214;&#30340;&#21457;&#36865;&#21644;&#25509;&#25910;</text></g><g id="elem_N8"><path d="M9900.58,3998.2832 L9900.58,4035.2383 A10,10 0 0 0 9910.58,4045.2383 L10408.58,4045.2383 A10,10 0 0 0 10418.58,4035.2383 L10418.58,4008.2832 L10398.58,3988.2832 L9910.58,3988.2832 A10,10 0 0 0 9900.58,3998.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:1.0;"/><path d="M10398.58,3988.2832 L10398.58,4003.2832 A5,5 0 0 0 10403.58,4008.2832 L10418.58,4008.2832 L10398.58,3988.2832 " fill="#FFFACD" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="476" x="9912.58" y="4027.9102">&#21629;&#20196;&#27169;&#24335;&#23454;&#29616;&#65292;&#25903;&#25345;&#21487;&#25193;&#23637;&#30340;&#21629;&#20196;&#31995;&#32479;</text></g><!--reverse link BackgroundService to MessageService--><g id="link_BackgroundService_MessageService"><path d="M8955.7319,3508.4444 C8924.3719,3555.6244 8889.84,3600.5632 8829.58,3652.2832 C8761.38,3710.8232 8682.34,3764.8232 8603.78,3812.2632 " fill="none" id="BackgroundService-backto-MessageService" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="8975.66,3478.4632,8945.7382,3501.8017,8965.7256,3515.0871,8975.66,3478.4632" style="stroke:#181818;stroke-width:2.0;"/></g><!--reverse link MessageService to MessageHandler--><g id="link_MessageService_MessageHandler"><path codeLine="198" d="M8199.58,4252.7432 C8199.58,4431.2032 8199.58,4649.5832 8199.58,4773.9432 " fill="none" id="MessageService-backto-MessageHandler" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="8199.58" cy="4236.7432" fill="#FFFFFF" rx="16" ry="16" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="8199.58" x2="8199.58" y1="4252.7432" y2="4220.7432"/><line style="stroke:#181818;stroke-width:2.0;" x1="8183.58" x2="8215.58" y1="4236.7432" y2="4236.7432"/></g><!--reverse link Command to HelpCommand--><g id="link_Command_HelpCommand"><path d="M3854.8197,3603.5776 C3784.2997,3705.8176 3710.48,3812.8632 3645.78,3906.6832 " fill="none" id="Command-backto-HelpCommand" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3875.26,3573.9432,3844.9416,3596.7641,3864.6978,3610.391,3875.26,3573.9432" style="stroke:#181818;stroke-width:2.0;"/></g><!--link HelpCommand to Command--><g id="link_HelpCommand_Command"><path codeLine="338" d="M3598.62,3906.7832 C3616.84,3846.5032 3644.7,3771.7232 3683.58,3712.2832 C3716.08,3662.5632 3750.3845,3623.3556 3793.1245,3582.1156 " fill="none" id="HelpCommand-to-Command" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3801.76,3573.7832,3783.2519,3580.5248,3794.5638,3580.7269,3794.3617,3592.0388,3801.76,3573.7832" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="3685.58" y="3743.9102">&#24341;&#29992;</text></g><!--reverse link Command to ExitCommand--><g id="link_Command_ExitCommand"><path d="M4207.9483,3593.7097 C4351.3283,3690.3897 4510.76,3797.9232 4648.68,3890.9432 " fill="none" id="Command-backto-ExitCommand" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="4178.1,3573.5832,4201.2395,3603.6592,4214.6572,3583.7603,4178.1,3573.5832" style="stroke:#181818;stroke-width:2.0;"/></g><!--reverse link Command to FileCommand--><g id="link_Command_FileCommand"><path d="M4342.4702,3477.6596 C4641.3102,3523.1396 5046.38,3614.2032 5381.58,3812.2832 C5435.58,3844.2032 5484.4,3895.2432 5519.58,3938.0232 " fill="none" id="Command-backto-FileCommand" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="4306.88,3472.2432,4340.6647,3489.523,4344.2757,3465.7962,4306.88,3472.2432" style="stroke:#181818;stroke-width:2.0;"/></g><!--reverse link Command to HistoryCommand--><g id="link_Command_HistoryCommand"><path d="M3734.5588,3592.8219 C3690.6188,3620.2419 3674.46,3628.7432 3629.58,3652.2832 C3467.28,3737.3832 3400.6,3708.5032 3249.58,3812.2832 C3199.08,3846.9832 3151.3,3896.4632 3115.78,3937.7632 " fill="none" id="Command-backto-HistoryCommand" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3765.1,3573.7632,3728.2059,3582.6415,3740.9117,3603.0023,3765.1,3573.7632" style="stroke:#181818;stroke-width:2.0;"/></g><!--reverse link Command to ClearCommand--><g id="link_Command_ClearCommand"><path d="M4006.5602,3609.2441 C4029.4202,3723.5441 4053.84,3845.6232 4072.32,3937.9832 " fill="none" id="Command-backto-ClearCommand" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3999.5,3573.9432,3994.7932,3611.5975,4018.3271,3606.8907,3999.5,3573.9432" style="stroke:#181818;stroke-width:2.0;"/></g><!--link P2PChatApplication to CliController--><g id="link_P2PChatApplication_CliController"><path codeLine="308" d="M4545.96,669.0632 C4332.74,778.0432 3981.4651,957.6017 3716.4051,1093.0817 " fill="none" id="P2PChatApplication-to-CliController" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="3705.72,1098.5432,3725.3887,1097.4744,3714.6243,1093.992,3718.1067,1083.2275,3705.72,1098.5432" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="4325.58" y="812.9102">&#21551;&#21160;</text></g><!--link CliController to NetworkUtils--><g id="link_CliController_NetworkUtils"><path codeLine="310" d="M3045.54,1280.0832 C2676.14,1303.0032 2070.58,1380.6832 1621.58,1637.2832 C1543.1,1682.1232 1482.6634,1750.2515 1437.3034,1812.0115 " fill="none" id="CliController-to-NetworkUtils" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="1430.2,1821.6832,1447.3029,1811.9113,1436.1195,1813.6235,1434.4073,1802.4401,1430.2,1821.6832" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="168" x="1707.58" y="1612.9102">&#33719;&#21462;&#32593;&#32476;&#20449;&#24687;</text></g><!--link CliController to NetworkManager--><g id="link_CliController_NetworkManager"><path codeLine="311" d="M3045.2,1341.6232 C2757.98,1424.4632 2387.58,1593.4832 2387.58,1914.2832 C2387.58,1914.2832 2387.58,1914.2832 2387.58,3088.2832 C2387.58,3347.6632 2333.42,3492.2832 2537.58,3652.2832 C2678.74,3762.9232 5613.42,3617.2832 5765.58,3712.2832 C5980.7,3846.6232 5907,3996.0632 6025.58,4220.2832 C6060.82,4286.9232 6092.8994,4346.7145 6130.0794,4415.2745 " fill="none" id="CliController-to-NetworkManager" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="6135.8,4425.8232,6134.2516,4406.1864,6131.0329,4417.0326,6120.1867,4413.8138,6135.8,4425.8232" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="2389.58" y="3097.9102">&#21019;&#24314;</text></g><!--link CliController to ChatRepository--><g id="link_CliController_ChatRepository"><path codeLine="312" d="M3045.4,1294.7432 C2387.88,1344.8432 965.44,1471.3432 821.58,1637.2832 C12,2571.1432 1260.1373,4119.4173 1743.1773,4654.2973 " fill="none" id="CliController-to-ChatRepository" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="1751.22,4663.2032,1745.0932,4644.4826,1744.5177,4655.7816,1733.2187,4655.2062,1751.22,4663.2032" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="717.58" y="3097.9102">&#21019;&#24314;</text></g><!--link CliController to User--><g id="link_CliController_User"><path codeLine="313" d="M3705.74,1270.5832 C4988.12,1272.1632 9567.58,1319.4232 9567.58,1914.2832 C9567.58,1914.2832 9567.58,1914.2832 9567.58,3088.2832 C9567.58,3344.3832 9517.22,3405.2832 9449.58,3652.2832 C9371.68,3936.6832 9299.22,3992.3632 9235.58,4280.2832 C9230.16,4304.7232 9231.58,4311.3232 9229.58,4336.2832 C9220.7,4446.0832 9254.44,5249.3832 9175.58,5326.2832 C9077.52,5421.8832 6832.58,5334.1632 6711.58,5398.2832 C6597.58,5458.7032 6517.8021,5564.5525 6460.0021,5667.7925 " fill="none" id="CliController-to-User" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="6454.14,5678.2632,6469.9137,5666.4652,6459.0251,5669.5376,6455.9527,5658.6491,6454.14,5678.2632" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="168" x="9567.58" y="3443.9102">&#21019;&#24314;&#26412;&#22320;&#29992;&#25143;</text></g><!--link CliController to ConnectionHandler--><g id="link_CliController_ConnectionHandler"><path codeLine="314" d="M3375.58,1521.7232 C3375.58,1584.8432 3375.58,1639.8032 3375.58,1700.2232 " fill="none" id="CliController-to-ConnectionHandler" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3375.58,1712.2232,3383.58,1694.2232,3375.58,1702.2232,3367.58,1694.2232,3375.58,1712.2232" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="3377.58" y="1612.9102">&#20351;&#29992;</text></g><!--link ConnectionHandler to NetworkManager--><g id="link_ConnectionHandler_NetworkManager"><path codeLine="316" d="M2726.32,2120.9232 C2663.96,2164.2632 2608.72,2216.7432 2567.58,2280.2832 C2399.34,2540.0032 2553.46,3472.8632 2805.58,3652.2832 C2946.9,3752.8632 5785.36,3612.9432 5927.58,3712.2832 C6158.44,3873.5632 6266.2617,4162.2577 6318.9417,4413.9577 " fill="none" id="ConnectionHandler-to-NetworkManager" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="6321.4,4425.7032,6325.5429,4406.4461,6319.3514,4415.9153,6309.8822,4409.7238,6321.4,4425.7032" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="2807.58" y="3443.9102">&#20351;&#29992;</text></g><!--link ConnectionHandler to ChatSession--><g id="link_ConnectionHandler_ChatSession"><path codeLine="317" d="M3411.4,2120.6432 C3420.2,2170.3432 3427.7855,2213.2674 3437.4855,2267.9874 " fill="none" id="ConnectionHandler-to-ChatSession" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="3439.58,2279.8032,3444.3154,2260.6832,3437.8346,2269.9567,3428.561,2263.4759,3439.58,2279.8032" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="3429.58" y="2211.9102">&#21019;&#24314;</text></g><!--link ChatSession to Command--><g id="link_ChatSession_Command"><path codeLine="319" d="M3719.08,3006.7632 C3779.3,3107.7632 3834.995,3201.2159 3882.415,3280.7559 " fill="none" id="ChatSession-to-Command" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="3888.56,3291.0632,3886.2141,3271.5057,3883.4392,3282.4738,3872.4711,3279.699,3888.56,3291.0632" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="140" x="3767.58" y="3097.9102">&#27880;&#20876;&#21644;&#25191;&#34892;</text></g><!--link ChatSession to MessageService--><g id="link_ChatSession_MessageService"><path codeLine="320" d="M4405.96,2655.6032 C5926.1,2682.4432 8863.62,2778.6632 9179.58,3122.2832 C9339,3295.6832 9314.22,3459.0032 9179.58,3652.2832 C9135.12,3716.0832 9088.0049,3761.9676 9023.8249,3805.3076 " fill="none" id="ChatSession-to-MessageService" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="9013.88,3812.0232,9033.2744,3808.5796,9022.1674,3806.4268,9024.3202,3795.3198,9013.88,3812.0232" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="140" x="9291.58" y="3443.9102">&#21019;&#24314;&#21644;&#20351;&#29992;</text></g><!--link ChatSession to FileTransferService--><g id="link_ChatSession_FileTransferService"><path codeLine="321" d="M4405.8,2808.1832 C5137.82,2940.3432 6154.7309,3123.9311 6897.3509,3258.0111 " fill="none" id="ChatSession-to-FileTransferService" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="6909.16,3260.1432,6892.8678,3249.0723,6899.3191,3258.3664,6890.025,3264.8177,6909.16,3260.1432" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="140" x="5939.58" y="3097.9102">&#21019;&#24314;&#21644;&#20351;&#29992;</text></g><!--link ChatSession to User--><g id="link_ChatSession_User"><path codeLine="322" d="M2601.3,2830.5232 C2066.22,2967.2432 1491.58,3173.8032 1491.58,3430.2832 C1491.58,3430.2832 1491.58,3430.2832 1491.58,4854.2832 C1491.58,5064.8032 1384.92,5175.2232 1531.58,5326.2832 C1847.16,5651.3632 5017.9123,5820.2198 6038.4523,5866.4798 " fill="none" id="ChatSession-to-User" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="6050.44,5867.0232,6032.8207,5858.2163,6040.4503,5866.5704,6032.0962,5874.1999,6050.44,5867.0232" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="112" x="1493.58" y="4027.9102">&#20851;&#32852;&#29992;&#25143;</text></g><!--link ChatSession to ChatRepository--><g id="link_ChatSession_ChatRepository"><path codeLine="323" d="M2757.46,3006.2832 C2724.56,3041.7232 2695.42,3080.3032 2671.58,3122.2832 C2554.28,3328.6632 2740.06,3456.6832 2605.58,3652.2832 C2562.76,3714.5432 2355.1,3755.2432 2305.58,3812.2832 C2091.18,4059.1832 1996.8255,4425.8329 1956.2855,4651.0929 " fill="none" id="ChatSession-to-ChatRepository" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1954.16,4662.9032,1965.2217,4646.6048,1955.9312,4653.0613,1949.4747,4643.7708,1954.16,4662.9032" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="2511.58" y="3743.9102">&#20351;&#29992;</text></g><!--link ChatSession to InputHandler--><g id="link_ChatSession_InputHandler"><path codeLine="324" d="M2837.82,3007.0432 C2803.16,3042.5832 2771.86,3080.9632 2745.58,3122.2832 C2618.18,3322.5832 2787.24,3440.7232 2679.58,3652.2832 C2661.88,3687.0232 2631.08,3676.5032 2615.58,3712.2832 C2457.34,4077.5232 2666.2707,4547.9349 2771.6107,4747.1549 " fill="none" id="ChatSession-to-InputHandler" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="2777.22,4757.7632,2775.8783,4738.1112,2772.5456,4748.923,2761.7339,4745.5903,2777.22,4757.7632" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="112" x="2617.58" y="3743.9102">&#22788;&#29702;&#36755;&#20837;</text></g><!--link ChatSession to MenuDisplay--><g id="link_ChatSession_MenuDisplay"><path codeLine="325" d="M2955.7,3006.3632 C2922,3042.6232 2891.34,3081.3032 2865.58,3122.2832 C2723.28,3348.5032 2775.48,3446.3032 2749.58,3712.2832 C2747.84,3729.9832 2747.42,3734.6432 2749.58,3752.2832 C2775.54,3965.0032 2721.42,4061.7232 2865.58,4220.2832 C2970.16,4335.3032 3074.3,4239.0232 3195.58,4336.2832 C3337.02,4449.7232 3428.5272,4632.5852 3476.1872,4747.0452 " fill="none" id="ChatSession-to-MenuDisplay" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3480.8,4758.1232,3481.2662,4738.431,3476.956,4748.8915,3466.4955,4744.5814,3480.8,4758.1232" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="112" x="2751.58" y="3743.9102">&#26174;&#31034;&#30028;&#38754;</text></g><!--link MessageService to BackgroundService--><g id="link_MessageService_BackgroundService"><path codeLine="327" d="M9143.82,4155.3232 C9250.82,4188.3832 9355.7,4229.3832 9451.58,4280.2832 C9707.74,4416.2832 9907.7883,4668.4107 9987.1283,4777.0507 " fill="none" id="MessageService-to-BackgroundService" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="10008.36,4806.1232,9996.8191,4769.9734,9977.4374,4784.1279,10008.36,4806.1232" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="9509.58" y="4311.9102">&#32487;&#25215;</text></g><!--link MessageService to NetworkManager--><g id="link_MessageService_NetworkManager"><path codeLine="328" d="M7655.36,4220.4032 C7527.22,4260.3432 7389.94,4297.0432 7259.58,4320.2832 C7217.74,4327.7432 6916.42,4319.1032 6877.58,4336.2832 C6825.36,4359.3832 6785.2057,4383.2051 6738.7657,4418.7851 " fill="none" id="MessageService-to-NetworkManager" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="6729.24,4426.0832,6748.3939,4421.4865,6737.178,4420.0015,6738.6631,4408.7857,6729.24,4426.0832" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="7417.58" y="4311.9102">&#20351;&#29992;</text></g><!--link MessageService to ChatRepository--><g id="link_MessageService_ChatRepository"><path codeLine="329" d="M7254.62,4156.4632 C7080.24,4179.6032 6899.58,4201.9832 6729.58,4220.2832 C6161.34,4281.4232 6018.58,4296.5032 5447.58,4320.2832 C5406.22,4322.0032 2505.96,4320.8232 2467.58,4336.2832 C2303.4,4402.4432 2168.1796,4535.3292 2070.6996,4653.4092 " fill="none" id="MessageService-to-ChatRepository" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="2063.06,4662.6632,2080.6887,4653.8752,2069.4263,4654.9515,2068.35,4643.6891,2063.06,4662.6632" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="6133.58" y="4311.9102">&#20351;&#29992;</text></g><!--link MessageService to Message--><g id="link_MessageService_Message"><path codeLine="330" d="M7957.84,4220.6632 C7922.26,4256.9232 7888.04,4296.0432 7859.58,4336.2832 C7606.48,4694.0032 7422.0963,5150.2002 7309.3763,5476.6802 " fill="none" id="MessageService-to-Message" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="7305.46,5488.0232,7318.8964,5473.6196,7308.7235,5478.5707,7303.7724,5468.3979,7305.46,5488.0232" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="7861.58" y="4863.9102">&#21019;&#24314;</text></g><!--link FileTransferService to NetworkManager--><g id="link_FileTransferService_NetworkManager"><path codeLine="332" d="M7260,3652.5832 C7227.2,3671.2232 7195.46,3691.1232 7165.58,3712.2832 C6909.74,3893.3832 6714.3602,4173.5427 6578.2002,4415.7627 " fill="none" id="FileTransferService-to-NetworkManager" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="6572.32,4426.2232,6588.114,4414.4525,6577.2202,4417.5061,6574.1666,4406.6122,6572.32,4426.2232" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="7037.58" y="4027.9102">&#20351;&#29992;</text></g><!--link FileTransferService to ChatRepository--><g id="link_FileTransferService_ChatRepository"><path codeLine="333" d="M6909.08,3604.7432 C6552.12,3662.2432 6141.28,3719.9832 5765.58,3752.2832 C5601.7,3766.3832 2954.06,3741.5632 2805.58,3812.2832 C2430,3991.1632 2161.1401,4405.2051 2026.5001,4652.3851 " fill="none" id="FileTransferService-to-ChatRepository" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="2020.76,4662.9232,2036.3956,4650.9429,2025.5434,4654.1415,2022.3448,4643.2893,2020.76,4662.9232" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="2807.58" y="4027.9102">&#20351;&#29992;</text></g><!--link FileTransferService to FileInfo--><g id="link_FileTransferService_FileInfo"><path codeLine="334" d="M8758.26,3652.3632 C8970.3,3711.5632 9145.1,3770.7032 9179.58,3812.2832 C9270.94,3922.4432 9303.42,5260.9432 9227.58,5382.2832 C9114.32,5563.4632 8925.2935,5676.1182 8731.9135,5750.8382 " fill="none" id="FileTransferService-to-FileInfo" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="#181818" points="8720.72,5755.1632,8740.3936,5756.138,8730.0479,5751.559,8734.6269,5741.2133,8720.72,5755.1632" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="140" x="9255.58" y="4311.9102">&#21019;&#24314;&#21644;&#20351;&#29992;</text></g><!--link FileTransferService to Message--><g id="link_FileTransferService_Message"><path codeLine="335" d="M7370.88,3652.4432 C7312.44,3697.5232 7259.92,3750.5232 7221.58,3812.2832 C7053.92,4082.2632 7098.9213,4955.5465 7143.2813,5476.1865 " fill="none" id="FileTransferService-to-Message" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="7144.3,5488.1432,7150.743,5469.529,7143.451,5478.1793,7134.8008,5470.8873,7144.3,5488.1432" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="7115.58" y="4311.9102">&#21019;&#24314;</text></g><!--link FileCommand to FileTransferService--><g id="link_FileCommand_FileTransferService"><path codeLine="337" d="M5733.82,3962.2832 C5930.06,3898.7632 6275.4,3790.1832 6575.58,3712.2832 C6683.1,3684.3832 6784.5294,3659.6705 6897.1494,3633.5905 " fill="none" id="FileCommand-to-FileTransferService" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="6908.84,3630.8832,6889.4992,3627.1503,6899.0978,3633.1393,6893.1089,3642.7378,6908.84,3630.8832" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="6577.58" y="3743.9102">&#35843;&#29992;</text></g><!--link ExitCommand to NetworkManager--><g id="link_ExitCommand_NetworkManager"><path codeLine="339" d="M5059.34,4141.5032 C5290.96,4266.8032 5644.9053,4458.2738 5930.7053,4612.8738 " fill="none" id="ExitCommand-to-NetworkManager" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="5941.26,4618.5832,5929.2342,4602.9825,5932.4644,4613.8253,5921.6216,4617.0555,5941.26,4618.5832" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="5373.58" y="4311.9102">&#20351;&#29992;</text></g><!--link HistoryCommand to ChatRepository--><g id="link_HistoryCommand_ChatRepository"><path codeLine="340" d="M2897.22,4089.7032 C2774.86,4148.1832 2603.96,4237.2032 2467.58,4336.2832 C2334.84,4432.7032 2209.5636,4551.0574 2108.4036,4654.6574 " fill="none" id="HistoryCommand-to-ChatRepository" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="2100.02,4663.2432,2118.3192,4655.9536,2107.0063,4656.0884,2106.8715,4644.7755,2100.02,4663.2432" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="2543.58" y="4311.9102">&#20351;&#29992;</text></g><!--link ClearCommand to MenuDisplay--><g id="link_ClearCommand_MenuDisplay"><path codeLine="341" d="M4035.3,4094.3232 C3930.08,4247.3632 3699.8983,4582.1547 3585.9383,4747.9147 " fill="none" id="ClearCommand-to-MenuDisplay" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3579.14,4757.8032,3595.9299,4747.5027,3584.8053,4749.5628,3582.7452,4738.4382,3579.14,4757.8032" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="3903.58" y="4311.9102">&#20351;&#29992;</text></g><!--link ChatRepository to User--><g id="link_ChatRepository_User"><path codeLine="343" d="M2090.06,5041.6632 C2188.74,5142.8032 2323.26,5260.1432 2467.58,5326.2832 C3107.66,5619.6632 5230.8119,5798.8883 6038.4719,5857.9283 " fill="none" id="ChatRepository-to-User" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="6050.44,5858.8032,6033.0711,5849.5122,6040.4666,5858.0741,6031.9047,5865.4696,6050.44,5858.8032" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="56" x="2575.58" y="5373.9102">&#23384;&#20648;</text></g><!--link ChatRepository to Message--><g id="link_ChatRepository_Message"><path codeLine="344" d="M2080.9,5041.8632 C2179.1,5146.8432 2316.22,5268.0032 2467.58,5326.2832 C2577.6,5368.6632 6603.26,5351.6632 6711.58,5398.2832 C6763.74,5420.7432 6803.6619,5444.5723 6849.3819,5480.4723 " fill="none" id="ChatRepository-to-Message" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="6858.82,5487.8832,6849.6035,5470.4747,6850.9549,5481.7074,6839.7222,5483.0589,6858.82,5487.8832" style="stroke:#181818;stroke-width:2.0;"/><text fill="#000000" font-family="Microsoft YaHei" font-size="28" lengthAdjust="spacing" textLength="140" x="6457.58" y="5373.9102">&#23384;&#20648;&#21644;&#26597;&#35810;</text></g><!--link BackgroundService to N2--><g id="link_BackgroundService_N2"><path codeLine="350" d="M10042.48,4898.4632 C10051.14,4992.3632 10085.04,5212.5032 10215.58,5326.2832 C10243.2,5350.3632 10507.76,5376.9432 10537.58,5398.2832 C10706.9,5519.5632 10797.7,5771.6032 10823.66,5853.7632 " fill="none" id="BackgroundService-N2" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/></g><!--link CliController to N3--><g id="link_CliController_N3"><path codeLine="353" d="M3705.68,1278.2432 C4909.52,1304.9232 9022.92,1408.0032 9585.58,1581.2832 C9803.1,1648.2832 10022.36,1821.5232 10101.1,1887.8832 " fill="none" id="CliController-N3" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/></g><!--link ChatSession to N4--><g id="link_ChatSession_N4"><path codeLine="356" d="M4406.14,2696.7232 C5547.56,2765.0232 7572.68,2897.0032 9301.58,3066.2832 C9503.92,3086.1032 9568.68,3042.2632 9755.58,3122.2832 C9912.26,3189.3632 10055.78,3342.3432 10109.36,3403.9032 " fill="none" id="ChatSession-N4" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/></g><!--link NetworkManager to N5--><g id="link_NetworkManager_N5"><path codeLine="359" d="M6784.22,5278.3832 C6814.42,5296.7632 6845.6,5313.0032 6877.58,5326.2832 C7070.22,5406.2632 8548.34,5360.9632 8753.58,5398.2832 C9312.08,5499.8232 9949.96,5769.0032 10143.16,5854.1032 " fill="none" id="NetworkManager-N5" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/></g><!--link MessageService to N6--><g id="link_MessageService_N6"><path codeLine="362" d="M9144.24,4128.2832 C9623.54,4191.0832 10123.96,4270.2232 10215.58,4336.2832 C10390.38,4462.3632 10459,4738.0232 10476.64,4824.0832 " fill="none" id="MessageService-N6" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/></g><!--link FileTransferService to N7--><g id="link_FileTransferService_N7"><path codeLine="365" d="M8793.8,3647.3632 C8805.78,3649.0832 8817.72,3650.7232 8829.58,3652.2832 C9439.08,3732.8032 9611.28,3579.5432 10211.58,3712.2832 C10424.84,3759.4432 10639.42,3923.9632 10717.12,3988.2632 " fill="none" id="FileTransferService-N7" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/></g><!--link Command to N8--><g id="link_Command_N8"><path codeLine="368" d="M4306.58,3460.0032 C4847.36,3501.3832 5946.24,3584.9232 6877.58,3652.2832 C7898.7,3726.1232 8161.22,3673.4832 9175.58,3812.2832 C9499.54,3856.6232 9876.8,3944.3632 10055.5,3988.1632 " fill="none" id="Command-N8" style="stroke:#181818;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/></g><!--SRC=[nLfzRzl66V_Vdu9m1ao6PQFnscqGXW2ABC_2P5cp56HPLmWqTROuKoH7Kd6ypa2SD6cIUdQo9K6NbwPEayN5kZX6khIDyl9bJ4dvQrzXp_6EvF5ubEHcwmpaHVUyt7FFytjUxcHxHTLDsPARqgAih2nRHaklvmpDiAJLXkgW4JkWDsIzlcgfZeDqQKdMR9PMHqjoItDc3DqfoKqapQcAPTZ6aYETacUHAkQig7z4qj5t6IBTtTAH9HrzXo7O3RbkhAhwCjsP8IcQRDlIXoEIT9mxm94PxmTJ3AkEBBhwZlS3gzW6VYthE9Qws7BGG2AnVefTBYY6xY-lipRgXeCIJSpcfXDC11sEwcX8Aa-LQxc6xDGgQxQ3cjA4rDrlkxTVZOoOe51UHjAeOZGdMwYkroVDALC1tb5lG-8TaCVYMTFKL4LsL4FtY18e-j1sO45Pbog_BjRAsUfiHgh0SVHbdZuzVx9KdCzEnvd6GwQchEefsLgsVORtFnZBIASDjGwSw_X0oGPFAeQ5YDNoekrOik9GyqElLP1rMbLGO7s8sMh3Gd8z8v5_ATbgwJeOaP4M3KD3iaxD1Mij9nKQHjOCarjIxGKYZzTP3KT20ntPNaaDVyIMesfiOAPL2ocEOQsT089DZyNuKu73E2ZWAYoL32T_HhKTErLNhRBiD7n7HqnSXp_17YNah1hMIi8EoyWf6egipHgseqFguiE8O-jp5inilMuXsqvcLUsoOJdPqxAgoOiQIfdmAIEfkfDiPRPKWVJ1w8-Pk92lvAj9MnqlPdE_IY8kvAUJIBzSoETBISHJ-M9n_cJobYVoIRJoYOLoCP6QEvLDtFFaRA7A2Ww4aZgfQ2eBffocvg0mMOQc8Ij84LkHTQYde9dyXovZ7RK680bWbP5mTLX0fc6h-3DbqGbmvcGTJ005fSXdogHXI9omCHt_JKyLCILb_q6hcGnMqn8KSrqpv7faUOogZ46o1Ofhq3XK7O44WwL8fG8nZBePosXYIp0wWSlt0d9QPj6tDTMWgfdi2H8Vc1l6wXnKiZcajr9YKwFyIA_F6NKq32zaCb9FeyEoGxg1qoDIvKGXHJDij81iesKfo8wKfn0i4F4AQ1NsWjnijbhB5USh-LfflbgOESMvEW5JGm4c18CGT28yJKY6wR6XMemYz26bDOdNQDF8I7EHpvHfITLGrP9rUmbP0UTCVD7thT5imY043Qu8oVEB7FbupCTzwDKKxwJq0F-a4rsJvhsI5ZaapAgo8AbKNNMeiNQizV7jS88s7kgmMH3II4P5Ly8sYmqk6bmB9RkgiWOpaS2ZgNZMOJMpf2Xnr8Qt8pr1YaO1ZYZiVw40tdQ1v11_waRBmGx3MwPWG5ENrcg1LrkULwb2SVuO45C5ZrBK5uCAxjjKKtwlxu4jJlCOLOqW-8kQQZV2FR2Vc0I3ibg5YGuvXN9AK7893HVUQC4raRLaM4riC0plAoYYbMbxgx8Abm6BsVwG9qbxhInCbdZo32wOWJNKQWnGP8Ms7zQvmL7fY3EmZJE3eG-mWcwsd2YsH8xBwuuG3xJsYSuRdJ0RI5dnzWh7DLuRbriHUJnjU-8YAGOiwzxVpFbmSvrMRLEJrqJ7Ks0xgm9b2EcfHEDDK0_r5b-o8DGfxx8qyCIUaDVQ8_oufcBy2QyknFv18nc52JkJHP4Ir0WynDGWxU0kxTrF2E0gXhA2Wed5-r1pZ1hW0-amyoIGRK-M8pleZ5FGCzBnrX8KN5HVW305AOs9yotGMCQkE0bt-e24ko6Mcr_yFQIZ5rZm1fAR3DqJ9GpmNvuZcCzefaSzm5m5sEv3pWy1QIAZ5OntJBMEbuaeNI64ga4rHVfZeSm6cI6KcLcIwrhaJ7QA-DdtBjT2OEwhWYzfKqproRbnVv9Z-Vdx4zON59t3A8q9YJJZLfZ2yVE39rJbSOtvBBvtyK2Pw7lLfYHKvs_AuxX51DIS1-I26JClpiGtbB1V7-AsRGLD879DYhI7i6rpbvHWtlDFdM7wC3FkXQfYznmVuXXFqp8qMjdcfv3-dhNbqyYxhxJOti8nn8125wASsCNCS8KL7Wsp0d-SOY3cpRPKpx70LAZ8Xz0nP91iCWoo4OhEwH9a3C2ttpFGKBDLVJ6Wzxzvi1T3qVr3G6z6ncBXc3pE7MlWK95eRrfiQZhPoZITXcEMZNsVIiP1QLYui4gEn1_ElE50nTFCaWoX7OrwwqTHkqSbsUQE4hmRaQCETHB2chSi61uI6Qbf72Z79oRuA0Vu5TnrudVikUnlQZE5OhvMAVmsdu6G1c3wlwCv-KuzBZhR3ulaFaz7N9_hyq3YtMvdl5bdoQ1D4NyS8__WLN5RJ7hlnFHaoB5ldlshOTEeeyWBCNP009wME5wg_oBBhVEZMD1AeXwDYQUbs9G6EU-7GZ1SX3HUUwno9ByUsomnPbDCaM12e8jcVAfZBkuqIc7V1yWWY_CSZReL7mOSCegpgywQoKU4Xv_F2VCjOAPfClaUz8NK6FSvQbawPbIQj-Uj5QHZXZFnhtZQH66ZbEXsiO3HPnYXXe36cnZlFCHYaHAVn7k5Lr65U8dalNKsc3796UeTaNH0wrTwoFu-2h0Q1WSsI-AW4bNY64Hrn8xrQ0F2DIm0ERQf52ySU1b_OHbfFtWHJwjGjjOSzFu7XywJSIbIMKkHOXFTCXtRBIqDGkrOD1ubKKcYDBmHvsHAmLjwbvNmYFr0dWJVuRwacQJFbQIkXpCEVSqC9XTq1Yaj1mbUSs9lNh_J_HR9hlP_yCPImxvsOzx-xsgYcrvIBAQHhLYgwTzmH92THPhf-qDjcXfgGWhRd8i6FRypIb89d6DlOotpVMN-JF2Uti_U8MQvSLRNW5bgB7WhPnwl1qLzoCVj_uPNC986UkNjjw5NYXzWfvntY_aVxGFm_x5qy6sxz_SDzyBJxjFsYE0NDIOcZd7Vx6QaKVVgddjbTtHa94h1l96l-u6rj_MDktsp-_9QjttduFLEPsDlD5dAVwV4MrowxRQVYtYv1vI-lDxu6d1qxdpbtddIlRxRkVGDppqvUKpmfGg87hny3HBuh36gs79VGCpFVl79c3x2hdjyDCB0qtcwwrxSTF-osRdygBUpEHhZvUw6WLeG2OpXH4Htn45os4M1GoyyxMrS3rp9SSL3bAGlyZK3rllWe-xLYxrNVtKlF8npiu_ss36Vlke-UDwziVdcxdrm8UU6YOa_7HCyse1Sj_seS_drQ5oWNpW5pCd7v9Y9xMJmPuCkYa9_Av8aaar9aWY6D57OHKBz3k6Z5VCaGAltvBodcksq9Ea2eBilRdWiR7F3BCdku2hn0EonnLG0fp3JeoeYkF_df-uvYcEEXVMDnuKpzjx3tXx6flShUAFTtK_Svzi0RNVxY-wvx_xzOhFtzRtUrr-ub-wwZpvnDszsj_RS- -UzvwNIKL4vdfp41AgkittruDLjz-gMk_taeDrsh-nqRttKsRdO-UmPgEvUt-yykmG5jtFdpvX4GE-fdXg9vmNMFELhTg-zF6W_W6BJsNhaNdhc_cqtjFN2hhj_jlEl3JWCeHATFuaLLBn6zVKshhWFlZnuSQktTnVR-FctxklptVqsDlFn3ivuZw7t-cFGIlIzosK_Nl6r4KEUtt3tpv7EykRiBMWkeArpVQ-pkU4-lWzrgVkFFHm2x_HmWixkZljYcoX_RuJ35DR_Nk1NrcsUaSJ7tTlNtAjVkTyz8rMAi165FusdF5xq5Txy-A3zxE35vr3OY5giaoZnIE0JT_lQcxCRsE2jXvthrAa_IyX4J8c4YXpEVVnPT-j9w8RjlSxbBztz6rYznmPDljk-HtJ_V2JC1VpfFm00]--></g></svg>